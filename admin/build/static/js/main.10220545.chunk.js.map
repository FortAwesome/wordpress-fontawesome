{"version":3,"sources":["KitSelectView.module.css","ErrorFallbackView.module.css","SettingsTab.module.css","UnregisteredClientsView.module.css","App.module.css","ClientPreferencesView.module.css","Alert.js","ErrorFallbackView.js","util/reportRequestError.js","ErrorBoundary.js","util/sliceJson.js","store/actions.js","CdnConfigView.js","KitSelectView.js","KitConfigView.js","CheckingOptionsStatusIndicator.js","SettingsTab.js","ClientPreferencesView.js","ManageFontAwesomeVersionsSection.js","store/reducers/index.js","UnregisteredClientsView.js","V3DeprecationWarning.js","ConflictDetectionTimer.js","ConflictDetectionReporter.js","mountConflictDetectionReporter.js","ConflictDetectionScannerSection.js","TroubleshootTab.js","FontAwesomeAdminView.js","store/index.js","index.js","Alert.module.css","V3DeprecationWarning.module.css","CdnConfigView.module.css","FontAwesomeAdminView.module.css"],"names":["module","exports","getIcon","props","type","icon","faInfoCircle","title","fixedWidth","faExclamationTriangle","faSpinner","spin","faThumbsUp","Alert","className","classnames","styles","role","children","fatalAlert","__","ErrorFallbackView","ERROR_REPORT_PREAMBLE","UI_MESSAGE_DEFAULT","ERROR_REPORTING_ERROR","REST_NO_ROUTE_ERROR","REST_COOKIE_INVALID_NONCE_ERROR","OK_ERROR_PREAMBLE","ONE_OF_MANY_ERRORS_GROUP_LABEL","FALSE_POSITIVE_MESSAGE","UNCONFIRMED_RESPONSE_MESSAGE","TRIMMED_RESPONSE_PREAMBLE","EXPECTED_EMPTY_MESSAGE","MISSING_ERROR_DATA_MESSAGE","handleAllWpErrorOutput","errorData","wpErrors","Object","keys","errors","map","code","message","get","data","size","push","reduce","acc","error","console","group","msg","wpError","info","uiMessage","output","concat","status","trace","request","failedRequestMessage","handleSingleWpErrorOutput","groupEnd","report","params","ok","falsePositive","confirmed","expectEmpty","trimmed","ErrorBoundary","state","errorInfo","log","this","setState","React","Component","findJson","content","start","nextStart","length","parsed","JSON","parse","slice","_e","nextLeftBracket","indexOf","nextLeftBrace","sliceJson","result","json","COULD_NOT_SAVE_CHANGES_MESSAGE","COULD_NOT_CHECK_PREFERENCES_MESSAGE","NO_RESPONSE_MESSAGE","REQUEST_FAILED_MESSAGE","COULD_NOT_START_SCANNER_MESSAGE","COULD_NOT_SNOOZE_MESSAGE","preprocessResponse","response","has","reportRequestError","foundUnexpectedData","sliced","addPendingOption","change","dispatch","getState","options","toPairs","key","val","updatePendingBlocklist","checkPreferenceConflicts","apiNonce","apiUrl","pendingOptions","handleError","success","axios","post","headers","then","detectedConflicts","catch","queryKits","initialKitToken","handleKitsQueryError","handleKitUpdateError","refreshedKits","currentKitRefreshed","find","token","optionsUpdate","usePro","licenseSelected","technology","technologySelected","pseudoElements","version","v4Compat","shimEnabled","put","updateApiToken","apiToken","runQueryKits","reportDetectedConflicts","nodesTested","unregisteredClients","showConflictDetectionReporter","conflict","payload","md5","unregisteredClientsBeforeDetection","recentConflictsDetected","setActiveAdminTab","tab","setConflictDetectionScanner","enable","actionEndType","Math","floor","Date","valueOf","CONFLICT_DETECTION_SCANNER_DURATION_MIN","interceptors","use","e","error_data","Promise","reject","CdnConfigView","useOption","handleSubmit","useSelector","pendingOptionConflicts","hasChecked","preferenceConflictDetection","preferenceCheckSuccess","preferenceCheckMessage","versionOptions","releases","available","latest_version","useDispatch","handleOptionChange","check","pendingTechnology","adjustedChange","getDetectionStatusForOption","option","join","onSubmit","preventDefault","sharedStyles","id","name","checked","onChange","htmlFor","faDotCircle","faCircle","rel","target","href","faExternalLinkAlt","style","marginLeft","marginTop","faCheckSquare","faSquare","value","index","KitSelectView","masterSubmitButtonShowing","setMasterSubmitButtonShowing","kitTokenActive","kitToken","useState","pendingApiToken","setPendingApiToken","showingRemoveApiTokenAlert","setShowRemoveApiTokenAlert","showApiTokenInputForUpdate","setShowApiTokenInputForUpdate","kits","hasSubmitted","optionsFormState","submitSuccess","submitMessage","isSubmitting","kitsQueryStatus","apiTokenInputRef","createRef","apiTokenInputHasFocus","setApiTokenInputHasFocus","useEffect","current","focus","hasSavedApiToken","ApiTokenInput","faQuestionCircle","ref","disabled","onMouseDown","faSkull","onClick","ApiTokenControl","faCheckCircle","faSync","alt","faTrashAlt","STATUS","KitSelector","kitRefreshButton","faRedo","activeKitNotice","sprintf","noApiToken","apiTokenReadyNoKitsYet","querying","networkError","noKitsFoundAfterQuery","kitSelection","selectedKit","k","Error","handleKitChange","kit","showingOnlyActiveKit","KitConfigView","kitTokenIsActive","kitTokenApiData","createInterpolateElement","a","externalLinkIcon","CheckingOptionStatusIndicator","SettingsTab","alreadyUsingKit","useKit","setUseKit","isChecking","activeKitToken","handleSwitchAwayFromKitConfig","concreteVersion","chooseAwayFromKitConfig","optionStyles","faCheck","UNSPECIFIED_INDICATOR","formatVersionPreference","versionPreference","pref","ClientPreferencesView","clientPreferences","conflicts","preferenceConflicts","hasAdditionalClients","hasConflicts","conflicted","values","client","clientHasConflict","optionName","c","ManageFontAwesomeVersionsSection","b","ADMIN_TAB_SETTINGS","ADMIN_TAB_TROUBLESHOOT","coerceBool","coerceEmptyArrayToEmptyObject","OPTIONS_FORM_INITIAL_STATE","INITIAL_STATE_BLOCKLIST_UPDATE_STATUS","pending","INITIAL_STATE_UNREGISTERED_CLIENTS_DELETION_STATUS","simple","combineReducers","activeAdminTab","action","blocklistUpdateStatus","Array","isArray","conflictDetectionScannerStatus","detectConflictsUntil","intValue","parseInt","isNaN","initialIntValue","onSettingsPage","omit","pluginVersion","settingsPageUrl","showAdmin","unregisteredClientDetectionStatus","updatedState","blocked","assign","unregisteredClientsDeletionStatus","userAttemptedToStopScanner","v3DeprecationWarning","snooze","v3DeprecationWarningStatus","UnregisteredClientsView","savedBlocklist","blocklistSelector","blocklist","deleteList","detectedUnregisteredClients","allDetectedConflictsSelectedForBlocking","isEqual","sort","allDetectedConflictsSelectedForRemoval","allDetectedConflicts","isCheckedForBlocking","x","isCheckedForRemoval","changeCheckForRemoval","newDeleteList","filter","updatePendingUnregisteredClientsForDeletion","changeCheckForBlocking","newBlocklist","orig","sortedUnique","updated","difference","toLowerCase","src","em","excerpt","truncate","V3DeprecationWarning","atts","v5name","v5prefix","linkIconGallery","linkLearnMore","strong","faClock","SECONDS_PER_DAY","SECONDS_PER_HOUR","timerString","durationSeconds","days","hours","minutes","seconds","dropWhile","unit","toString","padStart","part","match","secondsRemaining","endTime","remaining","ConflictDetectionTimer","addDescription","timeRemaining","setTimer","timeoutId","setTimeout","clearTimeout","running","display","done","submitting","none","expired","ready","stopped","stopping","restarting","STYLES","container","position","fontFamily","right","bottom","width","height","maxHeight","border","borderRadius","boxShadow","background","zIndex","overflowY","fontSize","lineHeight","color","header","justifyContent","alignItems","padding","boxSizing","adminEyesOnly","margin","h1","h2","p","link","tally","textAlign","count","flexBasis","marginRight","fontWeight","timerRow","backgroundColor","button","opacity","cursor","badness","withErrorBoundary","troubleshootTabUrl","currentlyOnTroubleshootTab","window","location","startsWith","scannerReady","scannerIsStopping","userStoppedScannerSuccessfully","runStatus","errorMessage","expiredOrStoppedDiv","stoppingOrSubmittingDiv","faCog","None","faGrin","Running","Restarting","Ready","Submitting","Stopping","Done","Expired","Stopped","faTimesCircle","CONFLICT_DETECTION_SHADOW_HOST_ID","mountConflictDetectionReporter","store","now","FontAwesomeDetection","doMount","conflictDetectionShadowRootElement","document","createElement","setAttribute","body","appendChild","shadow","attachShadow","mode","retargetEvents","faStyle","css","dom","cssText","createTextNode","shadowContainer","ReactDOM","render","addEventListener","ConflictDetectionScannerSection","nowMs","detectingConflicts","useStore","shadowHost","getElementById","shadowRoot","isConflictDetectionReporterMounted","noWrap","whiteSpace","TroubleshootTab","hasV3DeprecationWarning","showSubmitButton","hasPendingChanges","delete","FontAwesomeAdminView","middleware","thunkMiddleware","enhancer","composeEnhancers","compose","applyMiddleware","initialData","reduxCreateStore","rootReducer","createStore"],"mappings":"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","file":"static/js/main.10220545.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"kit-tab-content\":\"KitSelectView_kit-tab-content__2-9RM\",\"field-apitoken\":\"KitSelectView_field-apitoken__1g1xA\",\"api-token-control-wrapper\":\"KitSelectView_api-token-control-wrapper__28cNb\",\"api-token-control\":\"KitSelectView_api-token-control__2xXqd\",\"api-token-update\":\"KitSelectView_api-token-update__3s5bW\",\"token-saved\":\"KitSelectView_token-saved__GRJdZ\",\"remove\":\"KitSelectView_remove__3WW-I\",\"button-group\":\"KitSelectView_button-group__1RILD\",\"button-dismissable\":\"KitSelectView_button-dismissable__2eIFv\",\"wrap-active-kit\":\"KitSelectView_wrap-active-kit__1cVTd\",\"active-kit\":\"KitSelectView_active-kit__22VPb\",\"set\":\"KitSelectView_set__CyI4g\",\"none\":\"KitSelectView_none__F9a_t\",\"wrap-selectkit\":\"KitSelectView_wrap-selectkit__1iqtW\",\"title-selectkit\":\"KitSelectView_title-selectkit__nBoPK\",\"selectkit\":\"KitSelectView_selectkit__2c2XP\",\"refresh\":\"KitSelectView_refresh__1Cfrs\",\"kit-selector-container\":\"KitSelectView_kit-selector-container__1NX1v\",\"kit-select\":\"KitSelectView_kit-select__1VIQO\",\"kit-config-view-container\":\"KitSelectView_kit-config-view-container__29OOa\",\"selected-kit-settings\":\"KitSelectView_selected-kit-settings__2mJtA\",\"label\":\"KitSelectView_label__2EJt3\",\"value\":\"KitSelectView_value__15JUH\",\"tip-text\":\"KitSelectView_tip-text__Dh3CJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error-fallback\":\"ErrorFallbackView_error-fallback__3td6J\",\"additional-message\":\"ErrorFallbackView_additional-message__1OImV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select-config-container\":\"SettingsTab_select-config-container__1YnH8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"unregistered-clients\":\"UnregisteredClientsView_unregistered-clients__kLhLB\",\"column-label\":\"UnregisteredClientsView_column-label__2vX0E\",\"block-all-container\":\"UnregisteredClientsView_block-all-container__14zOh\",\"remove-all-container\":\"UnregisteredClientsView_remove-all-container__2l5g7\",\"checkbox-label\":\"UnregisteredClientsView_checkbox-label__13nvB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper-div\":\"App_wrapper-div__uoDmM\",\"submit-wrapper\":\"App_submit-wrapper__2Zws5\",\"submit-status\":\"App_submit-status__16n-_\",\"fail\":\"App_fail__1zb1B\",\"fail-icon-container\":\"App_fail-icon-container__1gHyP\",\"explanation\":\"App_explanation__2myBp\",\"success\":\"App_success__Q02Lw\",\"icon\":\"App_icon__NYH35\",\"section-title\":\"App_section-title__2GJYb\",\"section-divider\":\"App_section-divider__1my7D\",\"table-header\":\"App_table-header__3MJU0\",\"more-less\":\"App_more-less__R2Gcb\",\"scanner-actions\":\"App_scanner-actions__2bKEE\",\"scanner-runstatus\":\"App_scanner-runstatus__XD4yC\",\"faPrimary\":\"App_faPrimary__1aMj0\",\"conflict-detection-timer\":\"App_conflict-detection-timer__1ZDJz\",\"warning\":\"App_warning__1tZxF\",\"sr-only\":\"App_sr-only__NXiKO\",\"flex\":\"App_flex__2WNdQ\",\"flex-row\":\"App_flex-row__1aWRE\",\"flex-column\":\"App_flex-column__37uF_\",\"relative\":\"App_relative__2YszC\",\"status\":\"App_status__1jDuc\",\"good\":\"App_good__gDkCJ\",\"success-icon\":\"App_success-icon__KqfwT\",\"conflict\":\"App_conflict__Rql0g\",\"conflict-icon\":\"App_conflict-icon__2gtVG\",\"warning-icon\":\"App_warning-icon__2vp6Z\",\"space-left\":\"App_space-left__2Ih8c\",\"input-radio-custom\":\"App_input-radio-custom__3Muhs\",\"checked-icon\":\"App_checked-icon__tXUdT\",\"input-checkbox-custom\":\"App_input-checkbox-custom__3AzR3\",\"unchecked-icon\":\"App_unchecked-icon__17x1m\",\"option-label-explanation\":\"App_option-label-explanation__1w4im\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"client-requirements\":\"ClientPreferencesView_client-requirements__3AGlE\",\"conflicted\":\"ClientPreferencesView_conflicted__1QLBd\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './Alert.module.css'\nimport classnames from 'classnames'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faInfoCircle,\n  faThumbsUp,\n  faSpinner,\n  faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\n\nfunction getIcon(props = {}){\n  switch(props.type){\n    case 'info':\n      return <FontAwesomeIcon icon={ faInfoCircle } title='info' fixedWidth />\n    case 'warning':\n      return <FontAwesomeIcon icon={ faExclamationTriangle } title='warning' fixedWidth />\n    case 'pending':\n      return <FontAwesomeIcon icon={ faSpinner } title='pending' spin fixedWidth />\n    case 'success':\n      return <FontAwesomeIcon icon={ faThumbsUp } title='success' fixedWidth />\n    default:\n      return <FontAwesomeIcon icon={ faExclamationTriangle } title='warning' fixedWidth />\n  }\n}\n\nfunction Alert(props = {}) {\n  return<div className={ classnames(styles['alert'], styles[`alert-${ props.type }`]) } role=\"alert\">\n    <div className={ styles['alert-icon'] }>\n      { getIcon(props) }\n    </div>\n    <div className={ styles['alert-message'] }>\n      <h2 className={ styles['alert-title'] }>\n        { props.title }\n      </h2>\n      <div className={ styles['alert-copy'] }>\n        { props.children }\n      </div>\n    </div>\n  </div>\n}\n\nAlert.propTypes = {\n  title: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(['info', 'warning', 'success', 'pending']),\n  children: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.element)\n  ]).isRequired\n}\n\nexport default Alert\n","import React from 'react'\nimport styles from './ErrorFallbackView.module.css'\nimport Alert from './Alert'\nimport { __ } from '@wordpress/i18n'\n\nexport const fatalAlert = <Alert title={ __( 'Whoops, this is embarrassing', 'font-awesome' ) } type='warning'>\n  <p>\n    {\n      __( 'Some unexpected error has occurred. There might be some additional diagnostic information in the JavaScript console.', 'font-awesome' )\n    }\n  </p>\n</Alert>\n\nfunction ErrorFallbackView() {\n  return <div className={ styles['error-fallback'] }>\n    { fatalAlert }\n  </div>\n}\n\nexport default ErrorFallbackView\n","import get from 'lodash/get'\nimport size from 'lodash/size'\nimport { __ } from '@wordpress/i18n'\n\nexport const ERROR_REPORT_PREAMBLE = __( 'Font Awesome WordPress Plugin Error Report', 'font-awesome' )\nconst UI_MESSAGE_DEFAULT = __( 'D\\'oh! That failed big time.', 'font-awesome' )\nconst ERROR_REPORTING_ERROR = __( 'There was an error attempting to report the error.', 'font-awesome' )\nconst REST_NO_ROUTE_ERROR = __( 'Oh no! Your web browser could not reach your WordPress server.', 'font-awesome' )\nconst REST_COOKIE_INVALID_NONCE_ERROR = __( 'It looks like your web browser session expired. Try logging out and log back in to WordPress admin.', 'font-awesome' )\nconst OK_ERROR_PREAMBLE = __( 'The last request was successful, but it also returned the following error(s), which might be helpful for troubleshooting.', 'font-awesome' )\nconst ONE_OF_MANY_ERRORS_GROUP_LABEL = __( 'Error', 'font-awesome' )\nconst FALSE_POSITIVE_MESSAGE = __( 'WARNING: The last request contained errors, though your WordPress server reported it as a success. This usually means there\\'s a problem with your theme or one of your other plugins emitting output that is causing problems.', 'font-awesome' )\nconst UNCONFIRMED_RESPONSE_MESSAGE = __( 'WARNING: The last response from your WordPress server did not include the confirmation header that should be in all valid Font Awesome responses. This is a clue that some code from another theme or plugin is acting badly and causing the wrong headers to be sent.', 'font-awesome')\nconst TRIMMED_RESPONSE_PREAMBLE = __( 'WARNING: Invalid Data Trimmed from Server Response', 'font-awesome' )\nconst EXPECTED_EMPTY_MESSAGE = __( 'WARNING: We expected the last response from the server to contain no data, but it contained something unexpected.', 'font-awesome' )\nconst MISSING_ERROR_DATA_MESSAGE = __( 'Your WordPress server returned an error for that last request, but there was no information about the error.', 'font-awesome' )\n\n/**\n * This both sends appropriately formatted output to the console via console.info,\n * and returns a uiMessage that would be appropriate to display to an admin user.\n */\nfunction handleSingleWpErrorOutput( wpError ) {\n  if( ! get(wpError, 'code') ) {\n    console.info(ERROR_REPORTING_ERROR)\n    return UI_MESSAGE_DEFAULT\n  }\n\n  let uiMessage = null\n  let output = ''\n\n  const message = get(wpError, 'message')\n  if(message) {\n    output = output.concat(`message: ${message}\\n`)\n    uiMessage = message\n  }\n\n  const code = get(wpError, 'code')\n  if(code) {\n    output = output.concat(`code: ${code}\\n`)\n\n    switch(code) {\n      case 'rest_no_route':\n        uiMessage = REST_NO_ROUTE_ERROR\n        break\n      case 'rest_cookie_invalid_nonce':\n        uiMessage = REST_COOKIE_INVALID_NONCE_ERROR\n        break\n      case 'fontawesome_unknown_error':\n        uiMessage = UI_MESSAGE_DEFAULT\n        break\n      default:\n    }\n  }\n\n  const data = get(wpError, 'data')\n\n  if ( 'string' === typeof data ) {\n    output = output.concat(`data: ${data}\\n`)\n  } else {\n    const status = get(wpError, 'data.status')\n    if(status) output = output.concat(`status: ${status}\\n`)\n\n    const trace = get(wpError, 'data.trace')\n    if(trace) output = output.concat(`trace:\\n${trace}\\n`)\n  }\n\n  if( output && '' !== output ) {\n    console.info(output)\n  } else {\n    console.info(wpError)\n  }\n\n  const request = get(wpError, 'data.request')\n  if(request) {\n    console.info(request)\n  }\n\n  const failedRequestMessage = get(wpError, 'data.failedRequestMessage')\n\n  if(failedRequestMessage) {\n    console.info(failedRequestMessage)\n  }\n\n  return uiMessage\n}\n\nfunction handleAllWpErrorOutput(errorData) {\n  const wpErrors = Object.keys(errorData.errors || []).map(code => {\n    // get the first error message available for this code\n    const message = get(errorData, `errors.${code}.0`)\n    const data = get(errorData, `error_data.${code}`)\n\n    return {\n      code,\n      message,\n      data\n    }\n  })\n\n  if(0 === size(wpErrors)) {\n    wpErrors.push({\n      code: 'fontawesome_unknown_error',\n      message: ERROR_REPORTING_ERROR\n    })\n  }\n\n  const uiMessage = wpErrors.reduce((acc, error) => {\n    console.group(ONE_OF_MANY_ERRORS_GROUP_LABEL)\n\n    const msg = handleSingleWpErrorOutput( error )\n\n    console.groupEnd()\n\n    // The uiMessage we should return will be the first error message that isn't\n    // from a 'previous_exception'\n    return (!acc && error.code !== 'previous_exception')\n      ? msg\n      : acc\n  }, null)\n\n  return uiMessage\n}\n\nfunction report(params) {\n  const {\n    error,\n    ok = false,\n    falsePositive = false,\n    confirmed = true,\n    expectEmpty = false,\n    trimmed = ''\n  } = params\n\n  console.group(ERROR_REPORT_PREAMBLE)\n\n  if( ok ) {\n    console.info(OK_ERROR_PREAMBLE)\n  }\n\n  if( falsePositive ) {\n    console.info(FALSE_POSITIVE_MESSAGE)\n  }\n\n  if( ! confirmed ) {\n    console.info(UNCONFIRMED_RESPONSE_MESSAGE)\n  }\n\n  if( '' !== trimmed ) {\n    console.group(TRIMMED_RESPONSE_PREAMBLE)\n    if( expectEmpty ) {\n      console.info(EXPECTED_EMPTY_MESSAGE)\n    }\n    console.info(trimmed)\n    console.groupEnd()\n  }\n\n  const uiMessage = null !== error\n    ? handleAllWpErrorOutput( error )\n    : null\n\n  if ( null === error && trimmed === '' && confirmed ) {\n    console.info(MISSING_ERROR_DATA_MESSAGE)\n  }\n\n  console.groupEnd()\n\n  return uiMessage\n}\n\nexport default report\n","import React from 'react'\nimport ErrorFallbackView from './ErrorFallbackView'\nimport { ERROR_REPORT_PREAMBLE } from './util/reportRequestError'\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: null,\n      errorInfo: null\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.group(ERROR_REPORT_PREAMBLE)\n    console.log( error )\n    console.log( errorInfo )\n    console.groupEnd()\n    this.setState({error, errorInfo})\n  }\n\n  render() {\n    if (this.state.error) {\n      //render fallback UI\n      return <ErrorFallbackView />\n    } else {\n      //when there's not an error, render children untouched\n      return this.props.children\n    }\n  }\n}\n\nexport default ErrorBoundary\n","function findJson( content, start = 0 ) {\n  let parsed = null\n  let nextStart = null\n\n  if ( 'string' !== typeof content ) return null\n  if ( start >= content.length ) return null\n\n  try {\n    parsed = JSON.parse( content.slice(start) )\n    return {\n      start,\n      parsed\n    }\n  } catch( _e ) {\n    // search for the next character that would begin a JSON response\n    const nextLeftBracket = content.indexOf('[', start + 1)\n    const nextLeftBrace = content.indexOf('{', start + 1)\n\n    if( -1 === nextLeftBracket && -1 === nextLeftBrace ) {\n      // we've search to the end and found no chars that would start JSON content\n      return null\n    } else {\n      if ( -1 !== nextLeftBracket && -1 !== nextLeftBrace ) {\n        // if we found both, take the lower one\n        nextStart = nextLeftBracket < nextLeftBrace\n          ? nextLeftBracket\n          : nextLeftBrace\n      } else if ( -1 !== nextLeftBrace ) {\n        nextStart = nextLeftBrace\n      } else {\n        nextStart = nextLeftBracket\n      }\n    }\n  }\n\n  if ( null === nextStart ) {\n    return null\n  } else {\n    return findJson( content, nextStart )\n  }\n}\n\n/**\n * Searches through the given content trying to skip over any non-JSON string\n * data to find JSON data.\n * \n * Returns null if none found.\n * \n * Otherwise, returns an object indicating the starting index for the found JSON,\n * the json content as an unparsed string, the non-json content trimmed from the\n * beginning, and the parsed JSON.\n */\nfunction sliceJson( content ) {\n  if(! content || '' === content ) return null\n\n  const result = findJson( content )\n\n  if ( null === result ) {\n    return null\n  } else {\n    const { start, parsed } = result\n\n    return {\n      start,\n      json: content.slice(start),\n      trimmed: content.slice(0, start),\n      parsed\n    }\n  }\n}\n\nexport default sliceJson\n","import axios from 'axios'\nimport toPairs from 'lodash/toPairs'\nimport size from 'lodash/size'\nimport get from 'lodash/get'\nimport find from 'lodash/find'\nimport reportRequestError from '../util/reportRequestError'\nimport { __ } from '@wordpress/i18n'\nimport has from 'lodash/has'\nimport sliceJson from '../util/sliceJson'\n\n// How far into the future from \"now\" until the conflict detection scanner\n// will be enabled.\nexport const CONFLICT_DETECTION_SCANNER_DURATION_MIN = 10\n\n// How far in the past to set detectConflictsUntil when the conflict detection\n// scanner is being disabled. We can use a non-zero but negligible value in\n// order to protect against possible race conditions, instead of 0\n// (which would just be exactly \"now\").\nconst CONFLICT_DETECTION_SCANNER_DEACTIVATION_DELTA_MS = 1\n\nconst COULD_NOT_SAVE_CHANGES_MESSAGE = __( 'Couldn\\'t save those changes', 'font-awesome' )\nconst COULD_NOT_CHECK_PREFERENCES_MESSAGE = __( 'Couldn\\'t check preferences', 'font-awesome' )\nconst NO_RESPONSE_MESSAGE = __( 'A request to your WordPress server never received a response', 'font-awesome' )\nconst REQUEST_FAILED_MESSAGE = __( 'A request to your WordPress server failed', 'font-awesome' )\nconst COULD_NOT_START_SCANNER_MESSAGE = __( 'Couldn\\'t start the scanner', 'font-awesome' )\nconst COULD_NOT_SNOOZE_MESSAGE = __( 'Couldn\\'t snooze', 'font-awesome' )\n \nfunction preprocessResponse( response ) {\n  const confirmed = has( response, 'headers.fontawesome-confirmation' )\n\n  if ( 204 === response.status && '' !== response.data ) {\n      reportRequestError({ error: null, confirmed, trimmed: response.data, expectEmpty: true })\n      // clean it up\n      response.data = {}\n      return response\n  } \n\n  const data = get(response, 'data', null)\n\n  const foundUnexpectedData = 'string' === typeof data && size(data) > 0\n\n  const sliced = foundUnexpectedData\n    ? sliceJson( data )\n    : {}\n  \n  // Fixup the response data if garbage was fixed\n  if ( foundUnexpectedData) {\n    if ( null === sliced ) {\n      reportRequestError({ error: null, confirmed, trimmed: data })\n      // clean it up\n      response.data = {}\n      return response\n    } else {\n      response.data = get(sliced, 'parsed')\n    }\n  }\n\n  // If we had to trim any garbage, we'll store it here\n  const trimmed = get(sliced, 'trimmed', '')\n\n  const errors = get( response, 'data.errors', null )\n\n  if ( response.status >= 400 ) {\n    if ( errors ) {\n      // This is just a normal error response.\n      response.uiMessage = reportRequestError({ error: response.data, confirmed, trimmed })\n    } else {\n      // This error response has a bad schema\n      response.uiMessage = reportRequestError({ error: null, confirmed, trimmed })\n    }\n    return response\n  }\n\n  /**\n   * We don't normally expect 3XX responses, but we'll just let it pass\n   * through, unless we can see that the response has been corrupted,\n   * in which case we'll report that first.\n   */\n  if ( response.status < 400 && response.status >= 300 ) {\n    if ( !confirmed || '' !== trimmed ) {\n      response.uiMessage = reportRequestError({ error: null, confirmed, trimmed })\n    }\n\n    return response\n  }\n\n  /**\n   * If we make it this far, then we have a 2XX response with some valid data,\n   * which we maybe had to fix up.\n   *\n   * Now we need to detect whether it contains any errors to identify false positives,\n   * or cases where its legitmate for the controller to return an otherwise\n   * successful response that also includes some error data for extra diagnostics.\n   */\n  if ( errors ) {\n    /** \n     * The controller sent back _only_ error data, though the HTTP status is 2XX.\n     * This is a false positive.\n     * This can occur when other buggy code running on the WordPress server preempts\n     * and undermines the proper sending of HTTP headers, and yet the controller\n     * still sends its otherwise-valid JSON error response.\n     */\n    const falsePositive = true\n    response.falsePositive = true\n    response.uiMessage = reportRequestError({ error: response.data, confirmed, falsePositive, trimmed })\n    return response\n  } else {\n    const error = get( response, 'data.error', null )\n\n    if( error ) {\n      /**\n       * We may receive errors back with a 200 success response, such as when\n       * the controller catches PreferenceRegistrationExceptions.\n       */\n      response.uiMessage = reportRequestError({ error, ok: true, confirmed, trimmed })\n      return response\n    }\n\n    if( !confirmed ) {\n      /**\n       * We have received a response that, by every indication so far, is successful.\n       * However, it lacks the confirmation header, which _might_ indicate a problem.\n       */\n      response.uiMessage = reportRequestError({ error: null, ok: true, confirmed, trimmed })\n    }\n    return response\n  }\n}\n\naxios.interceptors.response.use(\n  response => preprocessResponse( response ),\n  error => {\n    if( error.response ) {\n      error.response = preprocessResponse( error.response )\n      error.uiMessage = get(error, 'response.uiMessage')\n    } else if ( error.request ) {\n      const code = 'fontawesome_request_noresponse'\n      const e = {\n        errors: {\n          [code]: [ NO_RESPONSE_MESSAGE ]\n        },\n        error_data: {\n          [code]: { request: error.request }\n        }\n      }\n\n      error.uiMessage = reportRequestError({ error: e })\n    } else {\n      const code = 'fontawesome_request_failed'\n      const e = {\n        errors: {\n          [code]: [ REQUEST_FAILED_MESSAGE ]\n        },\n        error_data: {\n          [code]: { failedRequestMessage: error.message }\n        }\n      }\n\n      error.uiMessage = reportRequestError({ error: e })\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nexport function resetPendingOptions() {\n  return {\n    type: 'RESET_PENDING_OPTIONS'\n  }\n}\n\nexport function resetOptionsFormState() {\n  return {\n    type: 'OPTIONS_FORM_STATE_RESET'\n  }\n}\n\nexport function addPendingOption(change) {\n  return function(dispatch, getState) {\n    const { options } = getState()\n\n    for (const [ key, val ] of toPairs(change)) {\n      const originalValue = options[key]\n\n      // If we're changing back to an original setting\n      if( originalValue === val ) {\n        dispatch({\n          type: 'RESET_PENDING_OPTION',\n          change: {[key]: val}\n        })\n      } else {\n        dispatch({\n          type: 'ADD_PENDING_OPTION',\n          change: {[key]: val}\n        })\n      }\n    }\n  }\n}\n\nexport function updatePendingUnregisteredClientsForDeletion(data = []) {\n  return {\n    type: 'UPDATE_PENDING_UNREGISTERED_CLIENTS_FOR_DELETION',\n    data\n  }\n}\n\nexport function resetUnregisteredClientsDeletionStatus() {\n  return {\n    type: 'DELETE_UNREGISTERED_CLIENTS_RESET'\n  }\n}\n\nexport function resetPendingBlocklistSubmissionStatus() {\n  return {\n    type: 'BLOCKLIST_UPDATE_RESET'\n  }\n}\n\nexport function submitPendingUnregisteredClientDeletions() {\n  return function(dispatch, getState){\n    const { apiNonce, apiUrl, unregisteredClientsDeletionStatus } = getState()\n    const deleteList = get( unregisteredClientsDeletionStatus, 'pending', null )\n\n    if (!deleteList || size( deleteList ) === 0) return\n\n    dispatch({ type: 'DELETE_UNREGISTERED_CLIENTS_START' })\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'DELETE_UNREGISTERED_CLIENTS_END',\n        success: false,\n        message: uiMessage || COULD_NOT_SAVE_CHANGES_MESSAGE\n      })\n    }\n\n    return axios.delete(\n      `${apiUrl}/conflict-detection/conflicts`,\n      {\n        data: deleteList,\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { status, data, falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'DELETE_UNREGISTERED_CLIENTS_END',\n          success: true,\n          data: 204 === status ? null : data,\n          message: ''\n        })\n      }\n    }).catch(handleError)\n  }\n}\n\nexport function updatePendingBlocklist(data = []) {\n  return {\n    type: 'UPDATE_PENDING_BLOCKLIST',\n    data\n  }\n}\n\nexport function submitPendingBlocklist() {\n  return function(dispatch, getState){\n    const { apiNonce, apiUrl, blocklistUpdateStatus } = getState()\n    const blocklist = get( blocklistUpdateStatus, 'pending', null )\n\n    if (!blocklist) return\n\n    dispatch({type: 'BLOCKLIST_UPDATE_START'})\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'BLOCKLIST_UPDATE_END',\n        success: false,\n        message: uiMessage || COULD_NOT_SAVE_CHANGES_MESSAGE\n      })\n    }\n\n    return axios.put(\n      `${apiUrl}/conflict-detection/conflicts/blocklist`,\n      blocklist,\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { status, data, falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'BLOCKLIST_UPDATE_END',\n          success: true,\n          data: 204 === status ? null : data,\n          message: ''\n        })\n      }\n    }).catch(handleError)\n  }\n}\n\nexport function checkPreferenceConflicts() {\n  return function(dispatch, getState){\n    dispatch({type: 'PREFERENCE_CHECK_START'})\n    const { apiNonce, apiUrl, options, pendingOptions } = getState()\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'PREFERENCE_CHECK_END',\n        success: false,\n        message: uiMessage || COULD_NOT_CHECK_PREFERENCES_MESSAGE\n      })\n    }\n\n    return axios.post(\n      `${apiUrl}/preference-check`,\n      { ...options, ...pendingOptions },\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { data, falsePositive } = response\n\n      if( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'PREFERENCE_CHECK_END',\n          success: true,\n          message: '',\n          detectedConflicts: data\n        })\n      }\n    }).catch(handleError)\n  }\n}\n\nexport function chooseAwayFromKitConfig({ activeKitToken }) {\n  return function(dispatch, getState) {\n    const { releases } = getState()\n\n    dispatch({\n      type: 'CHOOSE_AWAY_FROM_KIT_CONFIG',\n      activeKitToken,\n      concreteVersion: get(releases, 'latest_version')\n    })\n  }\n}\n\nexport function chooseIntoKitConfig() {\n  return { type: 'CHOOSE_INTO_KIT_CONFIG' }\n}\n\nexport function queryKits() {\n  return function(dispatch, getState) {\n    const { apiNonce, apiUrl, options } = getState()\n\n    const initialKitToken = get(options, 'kitToken', null)\n\n    dispatch({ type: 'KITS_QUERY_START' })\n\n    const handleKitsQueryError = ({ uiMessage }) => {\n      dispatch({\n        type: 'KITS_QUERY_END',\n        success: false,\n        message: uiMessage || __( 'Failed to fetch kits', 'font-awesome' )\n      })\n    }\n\n    const handleKitUpdateError = ({ uiMessage }) => {\n      dispatch({\n        type: 'OPTIONS_FORM_SUBMIT_END',\n        success: false,\n        message: uiMessage || __( 'Couldn\\'t update latest kit settings', 'font-awesome' )\n      })\n    }\n\n    return axios.post(\n      `${apiUrl}/api`,\n      `query {\n        me {\n          kits {\n            name\n            version\n            technologySelected\n            licenseSelected\n            minified\n            token\n            shimEnabled\n            autoAccessibilityEnabled\n            status\n          }\n        }\n      }`,\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      if ( response.falsePositive ) return handleKitsQueryError(response)\n\n      const data = get(response, 'data.data')\n\n      // We may receive errors back with a 200 response, such as when\n      // there PreferenceRegistrationExceptions.\n      if( get( data, 'me') ) {\n        dispatch({\n          type: 'KITS_QUERY_END',\n          data,\n          success: true\n        })\n      } else {\n        return dispatch({\n          type: 'KITS_QUERY_END',\n          success: false,\n          message: __( 'Failed to fetch kits. Regenerate your API Token and try again.', 'font-awesome' )\n        })\n      }\n\n      // If we didn't start out with a saved kitToken, we're done.\n      // Otherwise, we'll move on to update any config on that kit which\n      // might have changed since we saved it in WordPress.\n      if(! initialKitToken) return\n\n      const refreshedKits = get( data, 'me.kits', [] )\n      const currentKitRefreshed = find( refreshedKits, { token: initialKitToken } )\n\n      if(! currentKitRefreshed) return\n\n      const optionsUpdate = {}\n\n      // Inspect each relevant kit option for the current kit to see if it's\n      // been changed since our last query.\n      if( options.usePro && currentKitRefreshed.licenseSelected !== 'pro' ) {\n        optionsUpdate.usePro = false\n      } else if ( !options.usePro && currentKitRefreshed.licenseSelected === 'pro' ) {\n        optionsUpdate.usePro = true\n      }\n\n      if( options.technology === 'svg' && currentKitRefreshed.technologySelected !== 'svg' ) {\n        optionsUpdate.technology = 'webfont'\n        // pseudoElements must always be true for webfont\n        optionsUpdate.pseudoElements = true\n      } else if( options.technology !== 'svg' && currentKitRefreshed.technologySelected === 'svg' ) {\n        optionsUpdate.technology = 'svg'\n        // pseudoElements must always be false for svg when loaded in a kit\n        optionsUpdate.pseudoElements = false\n      }\n\n      if( options.version !== currentKitRefreshed.version) {\n        optionsUpdate.version = currentKitRefreshed.version\n      }\n\n      if( options.v4Compat && !currentKitRefreshed.shimEnabled ) {\n        optionsUpdate.v4Compat = false\n      } else if( !options.v4Compat && currentKitRefreshed.shimEnabled ) {\n        optionsUpdate.v4Compat = true\n      }\n\n      dispatch({type: 'OPTIONS_FORM_SUBMIT_START'})\n\n      return axios.put(\n        `${apiUrl}/config`,\n        { \n          options: {\n            ...options, ...optionsUpdate\n          }\n        },\n        {\n          headers: {\n            'X-WP-Nonce': apiNonce\n          }\n        }\n      ).then(response => {\n        const { data, falsePositive } = response\n\n        if ( falsePositive ) return handleKitUpdateError(response)\n\n        dispatch({\n          type: 'OPTIONS_FORM_SUBMIT_END',\n          data,\n          success: true,\n          message: __( 'Kit changes saved', 'font-awesome' )\n        })\n      }).catch(handleKitUpdateError)\n    }).catch(handleKitsQueryError)\n  }\n}\n\nexport function submitPendingOptions() {\n  return function(dispatch, getState) {\n    const { apiNonce, apiUrl, options, pendingOptions } = getState()\n\n    dispatch({type: 'OPTIONS_FORM_SUBMIT_START'})\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'OPTIONS_FORM_SUBMIT_END',\n        success: false,\n        message: uiMessage || COULD_NOT_SAVE_CHANGES_MESSAGE \n      })\n    }\n\n    return axios.put(\n      `${apiUrl}/config`,\n      { options: { ...options, ...pendingOptions }},\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { data, falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'OPTIONS_FORM_SUBMIT_END',\n          data,\n          success: true,\n          message: __( 'Changes saved', 'font-awesome' )\n        })\n      }\n    }).catch(handleError)\n  }\n}\n\nexport function updateApiToken({ apiToken = false, runQueryKits = false }) {\n  return function(dispatch, getState) {\n    const { apiNonce, apiUrl, options } = getState()\n\n    dispatch({type: 'OPTIONS_FORM_SUBMIT_START'})\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'OPTIONS_FORM_SUBMIT_END',\n        success: false,\n        message: uiMessage || COULD_NOT_SAVE_CHANGES_MESSAGE\n      })\n    }\n\n    return axios.put(\n      `${apiUrl}/config`,\n      { options: { ...options, apiToken }},\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { data, falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'OPTIONS_FORM_SUBMIT_END',\n          data,\n          success: true,\n          message: __( 'API Token saved', 'font-awesome' )\n        })\n\n        if( runQueryKits ) {\n          return dispatch(queryKits())\n        }\n      }\n    }).catch(handleError)\n  }\n}\n\nexport function userAttemptToStopScanner() {\n  return {\n    type: 'USER_STOP_SCANNER'\n  }\n}\n\nexport function reportDetectedConflicts({ nodesTested = {} }) {\n  return (dispatch, getState) => {\n    const { apiNonce, apiUrl, unregisteredClients, showConflictDetectionReporter } = getState()\n\n    // This should be a noop if by the time we get here the conflict detection reporter\n    // is already gone. That would indicate that the user stopped the scanner before\n    // the current page's scan was complete and report submitted. In that case,\n    // we just ignore the report. Otherwise, this action would try to post results\n    // to a REST route that will no longer be registered and listening, resulting a 404.\n    if( !showConflictDetectionReporter ) {\n      return\n    }\n\n    if( size(nodesTested.conflict) > 0 ) {\n      const payload = Object.keys(nodesTested.conflict).reduce(function(acc, md5){\n        acc[md5] = nodesTested.conflict[md5]\n        return acc\n      }, {})\n\n      dispatch({\n        type: 'CONFLICT_DETECTION_SUBMIT_START',\n        unregisteredClientsBeforeDetection: unregisteredClients,\n        recentConflictsDetected: nodesTested.conflict\n      })\n\n      const handleError = ({ uiMessage }) => {\n        dispatch({\n          type: 'CONFLICT_DETECTION_SUBMIT_END',\n          success: false,\n          message: uiMessage || COULD_NOT_SAVE_CHANGES_MESSAGE\n        })\n      }\n\n      return axios.post(\n        `${apiUrl}/conflict-detection/conflicts`,\n        payload,\n        {\n          headers: {\n            'X-WP-Nonce': apiNonce\n          }\n        }\n      )\n      .then(response => {\n        const { status, data, falsePositive } = response\n\n        if ( falsePositive ) {\n          handleError(response)\n        } else {\n          dispatch({\n            type: 'CONFLICT_DETECTION_SUBMIT_END',\n            success: true,\n            /**\n             * If get back no data here, that can only mean that a previous\n             * response with garbage in it had an erroneous HTTP 200 status\n             * on it, but no parseable JSON, which is equivalent to a 204.\n             */\n            data: ( 204 === status || 0 === size(data) ) ? null : data\n          })\n        }\n      })\n      .catch(handleError)\n    } else {\n      dispatch({ type: 'CONFLICT_DETECTION_NONE_FOUND' })\n    }\n  }\n}\n\nexport function snoozeV3DeprecationWarning() {\n  return (dispatch, getState) => {\n    const { apiNonce, apiUrl } = getState()\n\n    dispatch({ type: 'SNOOZE_V3DEPRECATION_WARNING_START' })\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: 'SNOOZE_V3DEPRECATION_WARNING_END',\n        success: false,\n        message: uiMessage || COULD_NOT_SNOOZE_MESSAGE\n      })\n    }\n\n    return axios.put(\n      `${apiUrl}/v3deprecation`,\n      { snooze: true },\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    )\n    .then(response => {\n      const { falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: 'SNOOZE_V3DEPRECATION_WARNING_END',\n          success: true,\n          snooze: true,\n          message: ''\n        })\n      }\n    })\n    .catch(handleError)\n  }\n}\n\nexport function setActiveAdminTab(tab) {\n  return {\n    type: 'SET_ACTIVE_ADMIN_TAB',\n    tab\n  }\n}\n\nexport function setConflictDetectionScanner({ enable = true }) {\n  return function(dispatch, getState) {\n    const { apiNonce, apiUrl } = getState()\n\n    const actionStartType = enable\n      ? 'ENABLE_CONFLICT_DETECTION_SCANNER_START'\n      : 'DISABLE_CONFLICT_DETECTION_SCANNER_START'\n\n    const actionEndType = enable\n      ? 'ENABLE_CONFLICT_DETECTION_SCANNER_END'\n      : 'DISABLE_CONFLICT_DETECTION_SCANNER_END'\n\n    dispatch({type: actionStartType})\n\n    const handleError = ({ uiMessage }) => {\n      dispatch({\n        type: actionEndType,\n        success: false,\n        message: uiMessage || COULD_NOT_START_SCANNER_MESSAGE\n      })\n    }\n\n    return axios.put(\n      `${apiUrl}/conflict-detection/until`,\n      enable\n        ? Math.floor((new Date((new Date()).valueOf() + (CONFLICT_DETECTION_SCANNER_DURATION_MIN * 1000 * 60))) / 1000)\n        : Math.floor((new Date())/1000) - CONFLICT_DETECTION_SCANNER_DEACTIVATION_DELTA_MS,\n      {\n        headers: {\n          'X-WP-Nonce': apiNonce\n        }\n      }\n    ).then(response => {\n      const { status, data, falsePositive } = response\n\n      if ( falsePositive ) {\n        handleError(response)\n      } else {\n        dispatch({\n          type: actionEndType,\n          data: 204 === status ? null : data,\n          success: true\n        })\n      }\n    }).catch(handleError)\n  }\n}\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  addPendingOption,\n  checkPreferenceConflicts\n} from './store/actions'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faDotCircle,\n  faCheckSquare,\n  faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faCircle, faSquare } from '@fortawesome/free-regular-svg-icons'\nimport styles from './CdnConfigView.module.css'\nimport sharedStyles from './App.module.css'\nimport classnames from 'classnames'\nimport has from 'lodash/has'\nimport size from 'lodash/size'\nimport Alert from './Alert'\nimport PropTypes from 'prop-types'\nimport get from 'lodash/get'\nimport { __ } from '@wordpress/i18n'\n\nconst UNSPECIFIED = ''\n\nexport default function CdnConfigView({ useOption, handleSubmit }) {\n  const usePro = useOption('usePro')\n  const technology = useOption('technology')\n  const version = useOption('version')\n  const v4Compat = useOption('v4Compat')\n  const pseudoElements = useOption('pseudoElements')\n\n  const pendingOptions = useSelector(state => state.pendingOptions)\n  const pendingOptionConflicts = useSelector(state => state.pendingOptionConflicts)\n  const hasChecked = useSelector(state => state.preferenceConflictDetection.hasChecked)\n  const preferenceCheckSuccess = useSelector(state => state.preferenceConflictDetection.success)\n  const preferenceCheckMessage = useSelector(state => state.preferenceConflictDetection.message)  \n\n  const versionOptions = useSelector(state => {\n    const { releases: { available, latest_version } } = state\n\n    return available.reduce((acc, version) => {\n      if( latest_version === version ) {\n        acc[version] = `${ version } (latest)`\n      } else {\n        acc[version] = version\n      }\n      return acc\n    }, {})\n  })\n\n  const dispatch = useDispatch()\n\n  function handleOptionChange(change = {}, check = true) {\n    const pendingTechnology = get( change, 'technology' )\n\n    const adjustedChange = pendingTechnology\n      ? 'webfont' === pendingTechnology\n        ? { ...change, pseudoElements: true }\n        : { ...change, pseudoElements: false }\n      : change\n\n    dispatch(addPendingOption(adjustedChange))\n    check && dispatch(checkPreferenceConflicts())\n  }\n\n  function getDetectionStatusForOption(option) {\n    if(has(pendingOptions, option)) {\n      if ( hasChecked && ! preferenceCheckSuccess ) {\n        return <Alert title={ __( 'Error checking preferences', 'font-awesome' ) } type='warning'>\n          <p>{ preferenceCheckMessage }</p>\n        </Alert>\n      } else if (has(pendingOptionConflicts, option)) {\n        return <Alert title={ __( 'Preference Conflict', 'font-awesome' ) } type='warning'>\n            {\n              size(pendingOptionConflicts[option]) > 1\n              ? <div>\n                { __( 'This change might cause problems for these themes or plugins', 'font-awesome' ) }: { pendingOptionConflicts[option].join(', ') }.\n              </div>\n              : <div>\n                { __( 'This change might cause problems for the theme or plugin', 'font-awesome' ) }: { pendingOptionConflicts[option][0] }.\n                </div>\n            }\n        </Alert>\n      } else {\n        return null\n      }\n    } else {\n      return null\n    }\n  }\n\n  return <div className={ classnames(styles['options-setter']) }>\n      <form onSubmit={ e => e.preventDefault() }>\n        <div className={ classnames( sharedStyles['flex'], sharedStyles['flex-row'] ) }>\n          <div className={ styles['option-header'] }>Icons</div>\n          <div className={ styles['option-choice-container'] }>\n            <div className={ styles['option-choices'] }>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_icons_pro\"\n                  name=\"code_edit_icons\"\n                  type=\"radio\"\n                  checked={ usePro }\n                  onChange={ () => handleOptionChange({ usePro: true }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_icons_pro\" className={ styles['option-label'] }>\n                    <span className={ sharedStyles['relative'] }>\n                      <FontAwesomeIcon\n                        icon={ faDotCircle }\n                        className={ sharedStyles['checked-icon'] }\n                        size=\"lg\"\n                        fixedWidth\n                      />\n                      <FontAwesomeIcon\n                        icon={ faCircle }\n                        className={ sharedStyles['unchecked-icon'] }\n                        size=\"lg\"\n                        fixedWidth\n                      />\n                    </span>\n                  <span className={ styles['option-label-text'] }>\n                      Pro\n                    </span>\n                </label>\n              </div>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_icons_free\"\n                  name=\"code_edit_icons\"\n                  type=\"radio\"\n                  checked={ ! usePro }\n                  onChange={ () => handleOptionChange({ usePro: false }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_icons_free\" className={ styles['option-label'] }>\n                  <span className={ sharedStyles['relative'] }>\n                    <FontAwesomeIcon\n                      icon={ faDotCircle }\n                      size=\"lg\"\n                      fixedWidth\n                      className={ sharedStyles['checked-icon'] }\n                    />\n                    <FontAwesomeIcon\n                      icon={ faCircle }\n                      size=\"lg\"\n                      fixedWidth\n                      className={ sharedStyles['unchecked-icon'] }\n                    />\n                  </span>\n                  <span className={ styles['option-label-text'] }>\n                    Free\n                  </span>\n                </label>\n              </div>\n            </div>\n            { usePro &&\n              <Alert title={ __( 'Heads up! Pro requires a Font Awesome subscription', 'font-awesome' ) } type='info'>\n              <p>And you need to add your WordPress site to the allowed domains for your CDN.</p>\n                <ul>\n                  <li>\n                    <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/account/cdn\">{ __( 'Manage my allowed domains', 'font-awesome' ) }<FontAwesomeIcon icon={faExternalLinkAlt} style={{marginLeft: '.5em'}} /></a>\n                  </li>\n                  <li>\n                    <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/pro\">{ __( 'Get Pro', 'font-awesome' ) }<FontAwesomeIcon icon={faExternalLinkAlt} style={{marginLeft: '.5em'}} /></a>\n                  </li>\n                </ul>\n              </Alert>\n            }\n            { getDetectionStatusForOption('usePro') }\n          </div>\n        </div>\n        <hr className={ styles['option-divider'] }/>\n        <div className={ classnames( sharedStyles['flex'], sharedStyles['flex-row'] ) }>\n          <div className={ styles['option-header'] }>{ __( 'Technology', 'font-awesome' ) }</div>\n          <div className={ styles['option-choice-container'] }>\n            <div className={ styles['option-choices'] }>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_tech_svg\"\n                  name=\"code_edit_tech\"\n                  type=\"radio\"\n                  checked={ technology === 'svg' }\n                  onChange={ () => handleOptionChange({ technology: 'svg' }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_tech_svg\" className={ styles['option-label'] }>\n                  <span className={ sharedStyles['relative'] }>\n                    <FontAwesomeIcon\n                      icon={ faDotCircle }\n                      className={ sharedStyles['checked-icon'] }\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                    <FontAwesomeIcon\n                      icon={ faCircle }\n                      className={ sharedStyles['unchecked-icon'] }\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                  </span>\n                  <span className={ styles['option-label-text'] }>\n                    { __( 'SVG', 'font-awesome' ) }\n                  </span>\n                </label>\n              </div>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_tech_webfont\"\n                  name=\"code_edit_tech\"\n                  type=\"radio\"\n                  checked={ technology === 'webfont' }\n                  onChange={ () => handleOptionChange({\n                    technology: 'webfont',\n                    pseudoElements: false\n                  }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_tech_webfont\" className={ styles['option-label'] }>\n                    <span className={ sharedStyles['relative'] }>\n                      <FontAwesomeIcon\n                        icon={ faDotCircle }\n                        size=\"lg\"\n                        fixedWidth\n                        className={ sharedStyles['checked-icon'] }\n                      />\n                      <FontAwesomeIcon\n                        icon={ faCircle }\n                        size=\"lg\"\n                        fixedWidth\n                        className={ sharedStyles['unchecked-icon'] }\n                      />\n                    </span>\n                    <span className={ styles['option-label-text'] }>\n                      { __( 'Web Font', 'font-awesome' ) }\n                      {\n                        technology === 'webfont' &&\n                          <span className={styles['option-label-explanation']}>\n                            { __( 'CSS Pseudo-elements are enabled by default with Web Font', 'font-awesome' ) }\n                          </span>\n                      }\n                    </span>\n                </label>\n              </div>\n            </div>\n            { getDetectionStatusForOption('technology') }\n          </div>\n        </div>\n        <div className={ classnames( sharedStyles['flex'], sharedStyles['flex-row'] ) }>\n          <div className={ styles['option-header'] }></div>\n          <div className={ styles['option-choice-container'] } style={{marginTop: '1em'}}>\n            { technology === 'svg' &&\n              <>\n                <input\n                  id=\"code_edit_features_pseudo_elements\"\n                  name=\"code_edit_features\"\n                  type=\"checkbox\"\n                  checked={ pseudoElements }\n                  onChange={() => handleOptionChange({ pseudoElements: !pseudoElements })}\n                  className={classnames(sharedStyles['sr-only'], sharedStyles['input-checkbox-custom'])}\n                />\n                <label htmlFor=\"code_edit_features_pseudo_elements\" className={styles['option-label']}>\n                  <span className={sharedStyles['relative']}>\n                    <FontAwesomeIcon\n                      icon={faCheckSquare}\n                      className={sharedStyles['checked-icon']}\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                    <FontAwesomeIcon\n                      icon={faSquare}\n                      className={sharedStyles['unchecked-icon']}\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                  </span>\n                  <span className={styles['option-label-text']}>\n                    { __( 'Enable CSS Pseudo-elements with SVG', 'font-awesome' ) }\n                    <span className={styles['option-label-explanation']}>\n                      { __( 'May cause performance issues.', 'font-awesome' ) } <a rel=\"noopener noreferrer\" target=\"_blank\" style={{marginLeft: '.5em'}} href=\"https://fontawesome.com/how-to-use/on-the-web/advanced/css-pseudo-elements\">\n                        { __( 'Learn more', 'font-awesome' ) } <FontAwesomeIcon icon={faExternalLinkAlt} style={{marginLeft: '.5em'}} />\n                      </a>\n                    </span>\n                  </span>\n                </label>\n                { getDetectionStatusForOption('pseudoElements') }\n              </>\n            }\n          </div>\n        </div>\n        <hr className={ styles['option-divider'] }/>\n        <div className={ classnames( sharedStyles['flex'], sharedStyles['flex-row'] ) }>\n          <div className={ styles['option-header'] }>Version</div>\n          <div className={ styles['option-choice-container'] }>\n            <div className={ styles['option-choices'] }>\n              <select\n                className={ styles['version-select'] }\n                name=\"version\"\n                onChange={ e => handleOptionChange({ version: e.target.value }) }\n                value={ version }\n              >\n                {\n                  Object.keys(versionOptions).map((version, index) => {\n                    return <option key={ index } value={ version }>\n                      { version === UNSPECIFIED ? '-' : versionOptions[version] }\n                    </option>\n                  })\n                }\n              </select>\n            </div>\n            { getDetectionStatusForOption('version') }\n          </div>\n        </div>\n        <hr className={ styles['option-divider'] }/>\n        <div className={ classnames( sharedStyles['flex'], sharedStyles['flex-row'], styles['features'] ) }>\n          <div className={ styles['option-header'] }>Version 4 Compatibility</div>\n          <div className={ styles['option-choice-container'] }>\n            <div className={ styles['option-choices'] }>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_v4compat_on\"\n                  name=\"code_edit_v4compat_on\"\n                  type=\"radio\"\n                  value={ v4Compat }\n                  checked={ v4Compat }\n                  onChange={ () => handleOptionChange({ v4Compat: ! v4Compat }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_v4compat_on\" className={ styles['option-label'] }>\n                  <span className={ sharedStyles['relative'] }>\n                    <FontAwesomeIcon\n                      icon={ faDotCircle }\n                      className={ sharedStyles['checked-icon'] }\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                    <FontAwesomeIcon\n                      icon={ faCircle }\n                      className={ sharedStyles['unchecked-icon'] }\n                      size=\"lg\"\n                      fixedWidth\n                    />\n                  </span>\n                  <span className={ styles['option-label-text'] }>\n                    { __( 'On', 'font-awesome' ) }\n                  </span>\n                </label>\n              </div>\n              <div className={ styles['option-choice'] }>\n                <input\n                  id=\"code_edit_v4_compat_off\"\n                  name=\"code_edit_v4_compat_off\"\n                  type=\"radio\"\n                  value={ ! v4Compat }\n                  checked={ ! v4Compat }\n                  onChange={ () => handleOptionChange({ v4Compat: ! v4Compat }) }\n                  className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n                />\n                <label htmlFor=\"code_edit_v4_compat_off\" className={ styles['option-label'] }>\n                    <span className={ sharedStyles['relative'] }>\n                      <FontAwesomeIcon\n                        icon={ faDotCircle }\n                        size=\"lg\"\n                        fixedWidth\n                        className={ sharedStyles['checked-icon'] }\n                      />\n                      <FontAwesomeIcon\n                        icon={ faCircle }\n                        size=\"lg\"\n                        fixedWidth\n                        className={ sharedStyles['unchecked-icon'] }\n                      />\n                    </span>\n                    <span className={ styles['option-label-text'] }>\n                      { __( 'Off', 'font-awesome' ) }\n                    </span>\n                </label>\n              </div>\n            </div>\n            { getDetectionStatusForOption('v4Compat') }\n          </div>\n        </div>\n      </form>\n  </div>\n}\n\nCdnConfigView.propTypes = {\n  useOption: PropTypes.func.isRequired,\n  handleOptionChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired\n}\n","import React, { createRef, useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Alert from './Alert'\nimport {\n  resetPendingOptions,\n  queryKits,\n  addPendingOption,\n  checkPreferenceConflicts,\n  updateApiToken,\n  resetOptionsFormState\n } from './store/actions'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faSpinner,\n  faSync,\n  faExternalLinkAlt,\n  faRedo,\n  faSkull, \n  faTrashAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faQuestionCircle, faCheckCircle } from '@fortawesome/free-regular-svg-icons'\nimport styles from './KitSelectView.module.css'\nimport sharedStyles from './App.module.css'\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport size from 'lodash/size'\nimport { sprintf, __ } from '@wordpress/i18n'\n\nexport default function KitSelectView({ useOption, masterSubmitButtonShowing, setMasterSubmitButtonShowing }) {\n  const dispatch = useDispatch()\n  const kitTokenActive = useSelector(state => state.options.kitToken)\n  const kitToken = useOption('kitToken')\n  const [ pendingApiToken, setPendingApiToken ] = useState(null)\n  const [ showingRemoveApiTokenAlert, setShowRemoveApiTokenAlert ] = useState(false)\n  const [ showApiTokenInputForUpdate, setShowApiTokenInputForUpdate ] = useState(false)\n  const apiToken = useSelector(state => {\n    if( null !== pendingApiToken ) return pendingApiToken\n\n    return state.options.apiToken\n  })\n  const kits = useSelector( state => state.kits ) || []\n  const hasSubmitted = useSelector(state => state.optionsFormState.hasSubmitted)\n  const submitSuccess = useSelector(state => state.optionsFormState.success)\n  const submitMessage = useSelector(state => state.optionsFormState.message)\n  const isSubmitting = useSelector(state => state.optionsFormState.isSubmitting)\n\n  function removeApiToken() {\n    if( !!kitTokenActive ) {\n      setShowRemoveApiTokenAlert(true)\n    } else {\n      dispatch(updateApiToken({ apiToken: false }))\n    }\n  }\n  /**\n   * When selecting a kit, we go through each of its configuration options\n   * and add them as pending options. We don't set those options in this system:\n   * they come as read-only from the Font Awesome API. But setting them as pending\n   * here allows them to processed by the preference checker to notify the user\n   * in the UI if selecting this kit would result in any known preference conflicts\n   * with registered clients.\n   */\n  function handleKitChange({ kitToken }) {\n    if('' === kitToken) {\n      // You can't select a non-kit option. The empty option only\n      // appears in the selection dropdown as a placeholder before a kit is\n      // selected\n      return\n    }\n\n    const selectedKit = (kits || []).find(k => k.token === kitToken)\n\n    if( !selectedKit ) {\n      throw new Error(\n        sprintf(\n          __( 'When selecting to use kit %s, somehow the information we needed was missing. Try reloading the page.' ),\n          kitToken\n        )\n      )\n    }\n\n    if( kitTokenActive === kitToken ) {\n      // We're just resetting back to the state we were in\n      dispatch(resetPendingOptions())\n    } else {\n      dispatch(addPendingOption({\n        kitToken,\n        technology: 'svg' === selectedKit.technologySelected ? 'svg' : 'webfont',\n        usePro: 'pro' === selectedKit.licenseSelected,\n        v4Compat: selectedKit.shimEnabled,\n        version: selectedKit.version,\n        // At the time this is being implemented, kits don't yet support\n        // toggling pseudoElement support for SVG, but it's implicitly supported for webfont.\n        pseudoElements: 'svg' !== selectedKit.technologySelected\n      }))\n    }\n\n    dispatch(checkPreferenceConflicts())\n  }\n\n  const kitsQueryStatus = useSelector(state => state.kitsQueryStatus)\n\n  /**\n   * This seems like a lot of effort just to keep the focus on the API Token input\n   * field during data entry, but it's because the component is being re-rendered\n   * on each change, and thus a new input DOM element is being created on each change.\n   * So the input element doesn't so much \"lose focus\" as is it just replaced by a\n   * different DOM element.\n   * So it's more like we have to re-focus on that new DOM element each time it changes.\n   * This would happen keystroke by keystroke if the user types in an API Token.\n   * Or if content is pasted into the field all at once, we'd like the focus to remain there\n   * in the input field until the user intentionally blurs by clicking the submit\n   * button, or pressing the tab key, for example.\n   */\n  const apiTokenInputRef = createRef()\n  const [ apiTokenInputHasFocus, setApiTokenInputHasFocus ] = useState( false )\n  useEffect(() => {\n    if( !!apiTokenInputRef.current && apiTokenInputHasFocus ) {\n      apiTokenInputRef.current.focus()\n    }\n  })\n\n\n  const hasSavedApiToken = useSelector(state => !! state.options.apiToken)\n\n  function cancelApiTokenUpdate() {\n    setShowApiTokenInputForUpdate(false)\n    setMasterSubmitButtonShowing(true)\n    dispatch(resetOptionsFormState())\n  }\n\n  function ApiTokenInput() {\n\n    useEffect(() => {\n      if ( submitSuccess && showApiTokenInputForUpdate ) {\n        setShowApiTokenInputForUpdate(false)\n        setMasterSubmitButtonShowing(true)\n      }\n    } )\n\n    return <>\n      <div className={ classnames( styles['field-apitoken'], { [styles['api-token-update']]: showApiTokenInputForUpdate } )}>\n        <label htmlFor=\"api_token\">\n          <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faQuestionCircle } size=\"lg\" />\n          { __( 'API Token', 'font-awesome' ) }\n        </label>\n        <div>\n          <input\n            id=\"api_token\"\n            name=\"api_token\"\n            type=\"text\"\n            ref={ apiTokenInputRef }\n            value={ pendingApiToken || '' }\n            size=\"20\"\n            onChange={ e => {\n              setApiTokenInputHasFocus( true )\n              setPendingApiToken(e.target.value)\n            }}\n          />\n\n          <p>\n            { __( 'Grab your secure and unique API token from your Font Awesome account page and enter it here so we can securely fetch your kits.', 'font-awesome') } <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://fontawesome.com/account#api-tokens\">\n              { __( 'Get your API token on fontawesome.com', 'font-awesome') } <FontAwesomeIcon icon={faExternalLinkAlt} style={{marginLeft: '.5em'}} />\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"submit\">\n        <input\n          type=\"submit\"\n          name=\"submit\"\n          id=\"submit\"\n          className=\"button button-primary\"\n          value={ __( 'Save API Token', 'font-awesome' ) }\n          disabled={ !pendingApiToken }\n          onMouseDown={ () => {\n              dispatch(updateApiToken({ apiToken: pendingApiToken, runQueryKits: true }))\n              setPendingApiToken(null)\n            }\n          }\n        />\n        { \n          (hasSubmitted && ! submitSuccess) &&\n          <div className={ classnames(sharedStyles['submit-status'], sharedStyles['fail']) }>\n            <div className={ classnames(sharedStyles['fail-icon-container']) }>\n              <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faSkull } />\n            </div>\n            <div className={ sharedStyles['explanation'] }>\n              { submitMessage }\n            </div>\n          </div>\n        }\n        {\n          isSubmitting &&\n          <span className={ classnames(sharedStyles['submit-status'], sharedStyles['submitting']) }>\n            <FontAwesomeIcon className={ sharedStyles['icon'] } icon={faSpinner} spin/>\n          </span>\n        }\n        {\n          (showApiTokenInputForUpdate && ! isSubmitting) &&\n        <button onClick={ () => cancelApiTokenUpdate() } className={ styles['button-dismissable'] }>{ __('Nevermind', 'font-awesome') }</button>\n        }\n      </div>\n    </>\n  }\n\n  function ApiTokenControl() {\n    function switchToApiTokenUpdate() {\n      dispatch(resetOptionsFormState())\n      setShowApiTokenInputForUpdate(true)\n      setMasterSubmitButtonShowing(false)\n      setShowRemoveApiTokenAlert(false)\n    }\n\n    return <div className={ styles['api-token-control-wrapper'] }>\n      <div className={ classnames( styles['api-token-control'], { [styles['api-token-update']]: showApiTokenInputForUpdate } )}>\n        {\n          showApiTokenInputForUpdate\n          ? <ApiTokenInput />\n          : <>\n              <p className={ styles['token-saved'] }> \n                <span>\n                  <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faCheckCircle } size=\"lg\" />\n                </span>\n                { __( 'API Token Saved', 'font-awesome' ) }\n              </p>\n              {\n                !!apiToken &&\n                <div className={ styles['button-group'] }>\n                  <button onClick={ () => switchToApiTokenUpdate() } className={ styles['refresh'] } type=\"button\">\n                    <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faSync } title=\"update\" alt=\"update\" />\n                    <span>{ __( 'Update token', 'font-awesome' ) }</span>\n                  </button>\n                  <button onClick={ () => removeApiToken() } className={ styles['remove'] } type=\"button\"><FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faTrashAlt } title=\"remove\" alt=\"remove\" /></button>\n                </div>\n              }\n            </>\n        }\n      </div>\n      {\n        showingRemoveApiTokenAlert &&\n        <div className={ styles['api-token-control-alert-wrapper'] }>\n          <Alert title={ __( 'Whoa, whoa, whoa!', 'font-awesome' ) } type='warning'>\n            { __( 'You can\\'t remove your API token when \"Use a Kit\" is active. Switch to \"Use CDN\" first.', 'font-awesome' ) }\n          </Alert>\n        </div>\n      }\n    </div>\n  }\n\n  const STATUS = {\n    querying: 'querying',\n    showingOnlyActiveKit: 'showingOnlyActiveKit',\n    noKitsFoundAfterQuery: 'noKitsFoundAfterQuery',\n    networkError: 'networkError',\n    kitSelection: 'kitSelection',\n    noApiToken: 'noApiToken',\n    apiTokenReadyNoKitsYet: 'apiTokenReadyNoKitsYet'\n  }\n\n  function KitSelector() {\n    const status =\n      apiToken\n        ? kitsQueryStatus.isSubmitting\n          ? STATUS.querying\n          : kitsQueryStatus.hasSubmitted\n            ? kitsQueryStatus.success\n              ? size(kits) > 0\n                ? STATUS.kitSelection\n                : STATUS.noKitsFoundAfterQuery\n              : STATUS.networkError\n            : kitTokenActive\n              ? STATUS.showingOnlyActiveKit\n              : STATUS.apiTokenReadyNoKitsYet\n        : STATUS.noApiToken\n\n    const kitRefreshButton = <button onClick={ () => dispatch(queryKits()) } className={ styles['refresh'] }>\n      <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faRedo } title=\"refresh\" alt=\"refresh\" />\n      <span>\n      {\n        0 === size(kits)\n        ? __( 'Get latest kits data', 'font-awesome' )\n        : __( 'Refresh kits data', 'font-awesome' )\n      }\n      </span>\n    </button>\n\n    const activeKitNotice = kitTokenActive\n      ? <div className={ styles['wrap-active-kit'] }><p className={ classnames(styles['active-kit'], styles['set']) }><FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faCheckCircle } size=\"lg\" />\n        {\n          sprintf(\n            __( '%s Kit is Currently Active' ),\n            kitTokenActive\n          )\n        }\n        </p></div>\n     : null\n\n\n      return <div className={ styles['kit-selector-container'] }>\n\n        { activeKitNotice }\n\n        <div className={ styles['wrap-selectkit'] }>\n          <h3 className={ styles['title-selectkit'] }><FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faQuestionCircle } size=\"lg\" />\n            { __( 'Pick a Kit to Use or Check Settings', 'font-awesome' ) }\n          </h3>\n          <div className={ styles['selectkit'] }>\n            <p>\n              {\n              __( 'Refresh your kits data to get the latest kit settings, then select the kit you would like to use. Remember to save when you\\'re ready to use it.', 'font-awesome' )\n              }\n            </p>\n          {\n            {\n              noApiToken: 'noApiToken',\n              apiTokenReadyNoKitsYet: <>{ activeKitNotice } { kitRefreshButton }</>,\n              querying:\n                <div>\n                  <span>\n                    { __( 'Loading your kits...', 'font-awesome' ) }\n                  </span>\n                  <span className={ classnames(sharedStyles['submit-status'], sharedStyles['submitting']) }>\n                    <FontAwesomeIcon className={ sharedStyles['icon'] } icon={faSpinner} spin/>\n                  </span>\n                </div>,\n\n              networkError:\n                <div className={ classnames(sharedStyles['submit-status'], sharedStyles['fail']) }>\n                  <div className={ classnames(sharedStyles['fail-icon-container']) }>\n                    <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faSkull } />\n                  </div>\n                  <div className={ sharedStyles['explanation'] }>\n                    { kitsQueryStatus.message }\n                  </div>\n                </div>,\n\n              noKitsFoundAfterQuery:\n                <>\n                  <Alert title=\"Zoinks! Looks like you don't have any kits set up yet.\" type=\"info\">\n                    <p>\n                      { __( 'Head over to Font Awesome to create one, then come back here and refresh your kits.', 'font-awesome' ) } <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/kits\">\n                        { __( 'Create a kit on Font Awesome', 'font-awesome' ) } <FontAwesomeIcon icon={faExternalLinkAlt} /></a>\n                    </p>\n                  </Alert>\n                  { kitRefreshButton }\n                </>,\n\n              kitSelection:\n                <>\n                <div className={ styles['field-kitselect'] }>\n                  <select\n                  className={ styles['kit-select'] }\n                  id=\"kits\"\n                  name=\"kit\"\n                  onChange={ e => handleKitChange({ kitToken: e.target.value }) }\n                  disabled={! masterSubmitButtonShowing }\n                  value={ kitToken || '' }\n                  >\n                    <option key='empty' value=''>{ __( 'Select a kit', 'font-awesome' ) }</option>\n                  {\n                    kits.map((kit, index) => {\n                      return <option key={ index } value={ kit.token }>\n                        { `${ kit.name } (${ kit.token })` }\n                      </option>\n                    })\n                  }\n                  </select>\n                  { kitRefreshButton }\n                  </div>\n                </>,\n\n              showingOnlyActiveKit:\n                <>\n                  { kitRefreshButton }\n                </>\n            }[status]\n          }\n          </div>\n        </div>\n      </div>\n    }\n\n  return <div>\n    <div className={ styles['kit-tab-content'] }>\n      {\n        hasSavedApiToken\n        ? <>\n            <ApiTokenControl />\n            <KitSelector />\n          </>\n        : <ApiTokenInput />\n      }\n    </div>\n  </div>\n}\n\nKitSelectView.propTypes = {\n  useOption: PropTypes.func.isRequired,\n  handleOptionChange: PropTypes.func.isRequired,\n  masterSubmitButtonShowing: PropTypes.bool.isRequired,\n  setMasterSubmitButtonShowing: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons'\nimport styles from './KitSelectView.module.css'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Alert from './Alert'\nimport get from 'lodash/get'\nimport has from 'lodash/has'\nimport size from 'lodash/size'\nimport { __ } from '@wordpress/i18n'\nimport { createInterpolateElement } from '@wordpress/element'\n\nexport default function KitConfigView({ kitToken }) {\n  const kitTokenIsActive = useSelector(state => get(state, 'options.kitToken') === kitToken)\n  const kitTokenApiData = useSelector(state => (state.kits || []).find(k => k.token === kitToken))\n  const pendingOptionConflicts = useSelector(state => state.pendingOptionConflicts)\n  const hasChecked = useSelector(state => state.preferenceConflictDetection.hasChecked)\n  const preferenceCheckSuccess = useSelector(state => state.preferenceConflictDetection.success)\n\n  const technology = useSelector(state =>\n    kitTokenIsActive\n      ? state.options.technology\n      : kitTokenApiData.technologySelected === 'svg'\n        ? 'svg'\n        : 'webfont'\n  )\n\n  const usePro = useSelector(state =>\n    kitTokenIsActive\n      ? state.options.usePro\n      : kitTokenApiData.licenseSelected === 'pro'\n  )\n\n  const v4Compat = useSelector(state =>\n    kitTokenIsActive\n      ? state.options.v4Compat\n      : kitTokenApiData.shimEnabled\n  )\n\n  const version = useSelector(state =>\n    kitTokenIsActive\n      ? state.options.version\n      : kitTokenApiData.version\n  )\n\n  function getDetectionStatusForOption(option) {\n    if ( hasChecked && preferenceCheckSuccess && has(pendingOptionConflicts, option) ) {\n      return <Alert title={ __( 'Preference Conflict', 'font-awesome' ) } type='warning'>\n        {\n          size(pendingOptionConflicts[option]) > 1\n          ? <div>\n            { __( 'This change might cause problems for these themes or plugins:', 'font-awesome' ) } { pendingOptionConflicts[option].join(', ') }.\n          </div>\n          : <div>\n            { __( 'This change might cause problems for the theme or plugin:', 'font-awesome' ) } { pendingOptionConflicts[option][0] }.\n            </div>\n        }\n      </Alert>\n    } else {\n      return null\n    }\n  }\n\n  return (!kitTokenIsActive && !kitTokenApiData) \n    ? <Alert type=\"warning\" title={ __('Oh no! We could not find the kit data for the selected kit token.', 'font-awesome' )}>\n        {\n          __( 'Try reloading.', 'font-awesome' )\n        }\n      </Alert>\n    : <div className={ styles['kit-config-view-container'] }>\n        <table className={ styles['selected-kit-settings'] }>\n          <tbody>\n            <tr>\n              <th className={ styles['label'] }>{ __( 'Icons', 'font-awesome' ) }</th>\n              <td className={ styles['value'] }>\n                { usePro ? 'Pro' : 'Free' }\n                { getDetectionStatusForOption('usePro') }\n              </td>\n            </tr>\n            <tr>\n              <th className={ styles['label'] }>{ __( 'Technology', 'font-awesome' ) }</th>\n              <td className={ styles['value'] }>\n                { technology }\n                { getDetectionStatusForOption('technology') }\n              </td>\n            </tr>\n            <tr>\n              <th className={ styles['label'] }>{ __( 'Version', 'font-awesome' ) }</th>\n              <td className={ styles['value'] }>\n                { version }\n                { getDetectionStatusForOption('version') }\n              </td>\n            </tr>\n            <tr>\n              <th className={ styles['label'] }>{ __( 'Version 4 Compatibility', 'font-awesome' ) }</th>\n              <td className={ styles['value'] }>\n                { v4Compat ? 'On' : 'Off' }\n                { getDetectionStatusForOption('v4Compat') }\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <p className={ styles['tip-text'] }>\n          {\n            createInterpolateElement(\n              __( 'Make changes on <a>fontawesome.com/kits <externalLinkIcon/></a>', 'font-awesome' ),\n              {\n                // eslint-disable-next-line jsx-a11y/anchor-has-content\n                a: <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://fontawesome.com/kits\" />,\n                externalLinkIcon: <FontAwesomeIcon icon={faExternalLinkAlt} style={{marginLeft: '.5em'}} />\n              }\n            )\n          }\n        </p>\n      </div>\n}\n\nKitConfigView.propTypes = {\n  kitToken: PropTypes.string.isRequired\n}\n","import React from 'react'\nimport styles from './CdnConfigView.module.css'\nimport sharedStyles from './App.module.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classnames from 'classnames'\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons'\nimport { __ } from '@wordpress/i18n'\n\nexport default function CheckingOptionStatusIndicator(){\n  return <span className={ styles['checking-option-status-indicator'] }>\n    <FontAwesomeIcon spin className={ classnames(sharedStyles['icon']) } icon={ faSpinner }/>\n    &nbsp;{ __( 'checking for preference conflicts', 'font-awesome' ) }...\n  </span>\n}\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport CdnConfigView from './CdnConfigView'\nimport KitSelectView from './KitSelectView'\nimport KitConfigView from './KitConfigView'\nimport sharedStyles from './App.module.css'\nimport optionStyles from './CdnConfigView.module.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faDotCircle,\n  faSpinner,\n  faCheck,\n  faSkull,\n} from '@fortawesome/free-solid-svg-icons'\nimport { faCircle } from '@fortawesome/free-regular-svg-icons'\nimport classnames from 'classnames'\nimport styles from './SettingsTab.module.css'\nimport has from 'lodash/has'\nimport { addPendingOption, submitPendingOptions, chooseAwayFromKitConfig, chooseIntoKitConfig } from './store/actions'\nimport CheckingOptionStatusIndicator from './CheckingOptionsStatusIndicator'\nimport size from 'lodash/size'\nimport { __ } from '@wordpress/i18n'\n\nexport default function SettingsTab() {\n  const dispatch = useDispatch()\n  const alreadyUsingKit = useSelector( state => !!state.options.kitToken )\n  const [useKit, setUseKit] = useState(alreadyUsingKit)\n  const isChecking = useSelector(state => state.preferenceConflictDetection.isChecking)\n  const hasSubmitted = useSelector(state => state.optionsFormState.hasSubmitted)\n  const submitSuccess = useSelector(state => state.optionsFormState.success)\n  const submitMessage = useSelector(state => state.optionsFormState.message)\n  const isSubmitting = useSelector(state => state.optionsFormState.isSubmitting)\n  const pendingOptions = useSelector(state => state.pendingOptions)\n  const apiToken = useSelector(state => state.options.apiToken)\n  const [ masterSubmitButtonShowing, setMasterSubmitButtonShowing ] = useState( true )\n\n  function useOption(option) {\n    return useSelector(state => \n      has(state.pendingOptions, option)\n      ? state.pendingOptions[option]\n      : state.options[option]\n    )\n  }\n\n  function handleSubmit(e) {\n    if(!!e && 'function' == typeof e.preventDefault) {\n      e.preventDefault()\n    }\n\n    dispatch(submitPendingOptions())\n  }\n\n  // The kitToken that may be a pendingOption\n  const kitToken = useOption( 'kitToken' )\n\n  // The one that's actually saved in the database already\n  const activeKitToken = useSelector( state => state.options.kitToken )\n\n  function handleOptionChange(change = {}) {\n    dispatch(addPendingOption(change))\n  }\n\n  /**\n   * In this case, we need to not only toggle the component's local\n   * state, but also get rid of the kitToken and any pending options\n   * that a kit selection might have put onto the form.\n   */\n  function handleSwitchAwayFromKitConfig() {\n    setUseKit( false )\n\n    dispatch( chooseAwayFromKitConfig({ activeKitToken }) )\n  }\n\n  function handleSwitchToKitConfig() {\n    setUseKit( true )\n    setMasterSubmitButtonShowing( true )\n\n    dispatch( chooseIntoKitConfig() )\n  }\n\n  return <div><div className={ sharedStyles['wrapper-div'] }>\n    <h3>{ __( 'How are you using Font Awesome?', 'font-awesome' ) }</h3>\n    <div className={ styles['select-config-container'] }>\n      <span>\n        <input\n          id=\"select_use_kits\"\n          name=\"select_use_kits\"\n          type=\"radio\"\n          value={ useKit }\n          checked={ useKit }\n          onChange={ () => handleSwitchToKitConfig() }\n          className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n        />\n        <label htmlFor=\"select_use_kits\" className={ optionStyles['option-label'] }>\n          <span className={ sharedStyles['relative'] }>\n            <FontAwesomeIcon\n              icon={ faDotCircle }\n              className={ sharedStyles['checked-icon'] }\n              size=\"lg\"\n              fixedWidth\n            />\n            <FontAwesomeIcon\n              icon={ faCircle }\n              className={ sharedStyles['unchecked-icon'] }\n              size=\"lg\"\n              fixedWidth\n            />\n          </span>\n          <span className={ optionStyles['option-label-text'] }>\n          { __( 'Use A Kit', 'font-awesome' ) }\n          </span>\n        </label>\n      </span>\n      <span>\n        <input\n          id=\"select_use_cdn\"\n          name=\"select_use_cdn\"\n          type=\"radio\"\n          value={ ! useKit }\n          checked={ ! useKit }\n          onChange={ () => handleSwitchAwayFromKitConfig() }\n          className={ classnames(sharedStyles['sr-only'], sharedStyles['input-radio-custom']) }\n        />\n        <label htmlFor=\"select_use_cdn\" className={ optionStyles['option-label'] }>\n          <span className={ sharedStyles['relative'] }>\n            <FontAwesomeIcon\n              icon={ faDotCircle }\n              className={ sharedStyles['checked-icon'] }\n              size=\"lg\"\n              fixedWidth\n            />\n            <FontAwesomeIcon\n              icon={ faCircle }\n              className={ sharedStyles['unchecked-icon'] }\n              size=\"lg\"\n              fixedWidth\n            />\n          </span>\n          <span className={ optionStyles['option-label-text'] }>\n          { __( 'Use CDN', 'font-awesome' ) }\n          </span>\n        </label>\n      </span>\n    </div>\n    <>\n      {\n        useKit\n          ? <>\n            <KitSelectView useOption={ useOption } handleOptionChange={ handleOptionChange } handleSubmit={ handleSubmit } masterSubmitButtonShowing={ masterSubmitButtonShowing } setMasterSubmitButtonShowing={ setMasterSubmitButtonShowing }/>\n            { !!kitToken && <KitConfigView kitToken={ kitToken } /> }\n          </>\n          : <CdnConfigView useOption={ useOption } handleOptionChange={ handleOptionChange } handleSubmit={ handleSubmit }/>\n      }\n    </>\n    </div>\n    {\n      (!useKit || ( apiToken && masterSubmitButtonShowing ) ) &&\n      <div className={ classnames(sharedStyles['submit-wrapper'], ['submit']) }>\n        <input\n          type=\"submit\"\n          name=\"submit\"\n          id=\"submit\"\n          className=\"button button-primary\"\n          value={ __( 'Save Changes', 'font-awesome' ) }\n          disabled={ size(pendingOptions) === 0 }\n          onClick={ handleSubmit }\n        />\n        { hasSubmitted \n          ? submitSuccess\n            ? <span className={ classnames(sharedStyles['submit-status'], sharedStyles['success']) }>\n                <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faCheck } />\n              </span>\n            : <div className={ classnames(sharedStyles['submit-status'], sharedStyles['fail']) }>\n                <div className={ classnames(sharedStyles['fail-icon-container']) }>\n                  <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faSkull } />\n                </div>\n                <div className={ sharedStyles['explanation'] }>\n                  { submitMessage }\n                </div>\n              </div>\n          : null\n        }\n        {\n          isSubmitting\n          ? <span className={ classnames(sharedStyles['submit-status'], sharedStyles['submitting']) }>\n              <FontAwesomeIcon className={ sharedStyles['icon'] } icon={faSpinner} spin/>\n            </span>\n          : isChecking\n            ? <CheckingOptionStatusIndicator/>\n            : size(pendingOptions) > 0\n              ? <span className={ sharedStyles['submit-status'] }>{ __( 'you have pending changes', 'font-awesome' ) }</span>\n              : null\n        }\n      </div>\n    }\n  </div>\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport styles from './ClientPreferencesView.module.css'\nimport sharedStyles from './App.module.css'\nimport find from 'lodash/find'\nimport has from 'lodash/has'\nimport size from 'lodash/size'\nimport classnames from 'classnames'\nimport { __, sprintf } from '@wordpress/i18n'\n\nconst UNSPECIFIED_INDICATOR = '-'\n\nfunction formatVersionPreference(versionPreference = []) {\n  return versionPreference\n    .map(pref => `${pref[1]}${pref[0]}`)\n    .join(\n      sprintf(\n        /* translators: 1: space */\n        __('%1$sand%1$s'),\n        ' '\n      )\n    )\n}\n\nexport default function ClientPreferencesView() {\n  const clientPreferences = useSelector(state => state.clientPreferences)\n  const conflicts = useSelector(state => state.preferenceConflicts)\n  const hasAdditionalClients = size(clientPreferences)\n  const hasConflicts = size(conflicts)\n\n  return <div className={ styles['client-requirements'] }>\n    <h3 className={ sharedStyles['section-title'] }>{ __( 'Registered themes or plugins', 'font-awesome' ) }</h3>\n    {\n      hasAdditionalClients\n      ?\n        <div>\n          <p className={sharedStyles['explanation']}>\n            {\n              __(\n                'Below is the list of active themes or plugins using Font Awesome that have opted-in to share information about the settings they are expecting.',\n                'font-awesome'\n              )\n            }\n            \n          { hasConflicts\n            ? <span className={sharedStyles['explanation']}>\n              { __( 'The highlights show where the settings are mismatched. You might want to adjust your settings to match, or your icons may not work as expected.', 'font-awesome' ) }\n            </span>\n            : null\n          }</p>\n          <table className={ classnames( 'widefat', 'striped' ) }>\n            <thead>\n              <tr className={ sharedStyles['table-header'] }>\n                <th>{ __( 'Name', 'font-awesome' ) }</th>\n                <th className={ classnames({ [styles.conflicted]: !! conflicts['usePro'] }) }>{ __( 'Icons', 'font-awesome' ) }</th>\n                <th className={ classnames({ [styles.conflicted]: !! conflicts['technology'] }) }>{ __( 'Technology', 'font-awesome' ) }</th>\n                <th className={ classnames({ [styles.conflicted]: !! conflicts['version'] }) }>{ __( 'Version', 'font-awesome' ) }</th>\n                <th className={ classnames({ [styles.conflicted]: !! conflicts['v4Compat'] }) }>{ __( 'V4 Compat', 'font-awesome' ) }</th>\n                <th className={ classnames({ [styles.conflicted]: !! conflicts['pseudoElements'] }) }>{ __( 'CSS Pseudo-elements', 'font-awesome' ) }</th>\n              </tr>\n            </thead>\n            <tbody>\n            {\n              Object.values(clientPreferences).map((client, index)  => {\n                const clientHasConflict = optionName => !!find(conflicts[optionName], c => c === client.name)\n\n                return <tr key={ index }>\n                  <td>{ client.name }</td>\n                  <td\n                    className={\n                      classnames({ [styles.conflicted]: clientHasConflict('usePro') })\n                    }>\n                    { has(client, 'usePro')\n                      ? client.usePro ? 'Pro' : 'Free'\n                      : UNSPECIFIED_INDICATOR\n                    }\n                  </td>\n                  <td\n                    className={ classnames({ [styles.conflicted]: clientHasConflict('technology') }) }>\n                    { has(client, 'technology')\n                      ? client.technology\n                      : UNSPECIFIED_INDICATOR\n                    }\n                  </td>\n                  <td\n                    className={ classnames({ [styles.conflicted]: clientHasConflict('version') }) }>\n                    { has(client, 'version')\n                      ? formatVersionPreference(client.version)\n                      : UNSPECIFIED_INDICATOR\n                    }\n                  </td>\n                  <td\n                    className={ classnames({ [styles.conflicted]: clientHasConflict('v4Compat') }) }>\n                    { has(client, 'v4Compat')\n                      ? client.v4Compat ? 'true' : 'false'\n                      : UNSPECIFIED_INDICATOR\n                    }\n                  </td>\n                  <td\n                    className={ classnames({ [styles.conflicted]: clientHasConflict('pseudoElements') }) }>\n                    { has(client, 'pseudoElements')\n                      ? client.pseudoElements ? 'true' : 'false'\n                      : UNSPECIFIED_INDICATOR\n                    }\n                  </td>\n                </tr>\n              })\n            }\n            </tbody>\n          </table>\n        </div>\n      :\n        <p className={ sharedStyles['explanation'] }>\n          { __( 'No active themes or plugins have requested preferences for Font Awesome.', 'font-awesome' ) }\n        </p>\n    }\n  </div>\n}\n","import React from 'react'\nimport styles from './ManageFontAwesomeVersionsSection.module.css'\nimport sharedStyles from './App.module.css'\nimport ClientPreferencesView from './ClientPreferencesView'\nimport classnames from 'classnames'\nimport { __ } from '@wordpress/i18n'\nimport { createInterpolateElement } from '@wordpress/element'\n\nexport default function ManageFontAwesomeVersionsSection() {\n  return <div className={ classnames(sharedStyles['explanation'], styles['font-awesome-versions-section']) }>\n    <h2 className={ sharedStyles['section-title'] }>{ __( 'Versions of Font Awesome Active on Your Site', 'font-awesome' ) }</h2>\n    <p>\n      {\n        createInterpolateElement(\n          __( '<b>Registered plugins and themes</b> have opted to share information about the Font Awesome settings they are expecting, and are therefore easier to fix. For the <b>unregistered plugins and themes</b>, which are more unpredictable, we have provided options for you to block their Font Awesome source from loading and causing issues.', 'font-awesome' ),\n          {\n            b: <b />\n          }\n        )\n      }\n    </p>\n    <ClientPreferencesView />\n  </div>\n}\n","import size from 'lodash/size'\nimport omit from 'lodash/omit'\nimport get from 'lodash/get'\nimport { combineReducers } from 'redux'\n\nexport const ADMIN_TAB_SETTINGS = 'ADMIN_TAB_SETTINGS'\nexport const ADMIN_TAB_TROUBLESHOOT = 'ADMIN_TAB_TROUBLESHOOT'\n\nconst coerceBool = val => val === true || val === \"1\"\n\nconst coerceEmptyArrayToEmptyObject = val => size(val) === 0 ? {} : val\n\n// TODO: add reducer for the clientPreferences that coerces their boolean options\n\nexport function blocklistSelector(state = {}) {\n  const unregisteredClients = state.unregisteredClients || {}\n\n  return Object.keys( unregisteredClients ).reduce( (acc, md5) => {\n    if( get( unregisteredClients, [md5, 'blocked'], false ) ) {\n      acc.push(md5)\n    }\n    return acc\n  }, [])\n}\n\nexport function options(state = {}, action = {}) {\n  const { type, data } = action\n\n  switch(type) {\n    case 'OPTIONS_FORM_SUBMIT_END':\n      if(! get(action, 'data.options')) {\n        return state\n      } else {\n        const {\n          options: {\n            technology,\n            usePro,\n            v4Compat,\n            pseudoElements,\n            version,\n            kitToken,\n            apiToken\n          }\n        } = data\n\n        return {\n          technology,\n          version,\n          kitToken,\n          apiToken,\n          usePro: coerceBool(usePro),\n          v4Compat: coerceBool(v4Compat),\n          pseudoElements: coerceBool(pseudoElements)\n        }\n      }\n    default:\n      return state\n  }\n}\n\nconst OPTIONS_FORM_INITIAL_STATE = {\n  hasSubmitted: false,\n  isSubmitting: false,\n  success: false,\n  message: ''\n}\n\nfunction optionsFormState(\n  state = OPTIONS_FORM_INITIAL_STATE, action = {}) {\n  const { type, success, message } = action\n  \n  switch(type) {\n    case 'OPTIONS_FORM_SUBMIT_START':\n      return { ...state, isSubmitting: true }\n    case 'OPTIONS_FORM_SUBMIT_END':\n      return { ...state, isSubmitting: false, hasSubmitted: true, success, message }\n    case 'OPTIONS_FORM_STATE_RESET':\n    case 'CHOOSE_AWAY_FROM_KIT_CONFIG':\n    case 'CHOOSE_INTO_KIT_CONFIG':\n      return OPTIONS_FORM_INITIAL_STATE\n    case 'ADD_PENDING_OPTION':\n      return { ...state, hasSubmitted: false, success: false, message: '' }\n    default:\n      return state\n  }\n}\n\nconst INITIAL_STATE_BLOCKLIST_UPDATE_STATUS = {\n  hasSubmitted: false,\n  isSubmitting: false,\n  pending: null,\n  success: false,\n  message: ''\n}\n\nfunction blocklistUpdateStatus( state = INITIAL_STATE_BLOCKLIST_UPDATE_STATUS, action = {} ) {\n  const { type, success, message } = action\n  \n  switch(type) {\n    case 'BLOCKLIST_UPDATE_RESET':\n      return INITIAL_STATE_BLOCKLIST_UPDATE_STATUS\n    case 'BLOCKLIST_UPDATE_START':\n      return { ...state, isSubmitting: true }\n    case 'BLOCKLIST_UPDATE_END':\n      return { ...state, isSubmitting: false, pending: null, hasSubmitted: true, success, message }\n    case 'UPDATE_PENDING_BLOCKLIST':\n      if(Array.isArray(action.data) || null === action.data) {\n        return {\n          ...state,\n          hasSubmitted: false,\n          pending: action.data,\n          success: false,\n          message: ''\n        }\n      } else {\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst INITIAL_STATE_UNREGISTERED_CLIENTS_DELETION_STATUS = {\n  hasSubmitted: false,\n  isSubmitting: false,\n  pending: [],\n  success: false,\n  message: ''\n}\n\nfunction unregisteredClientsDeletionStatus(\n  state = INITIAL_STATE_UNREGISTERED_CLIENTS_DELETION_STATUS,\n  action = {} ) {\n  const { type, success, message } = action\n  \n  switch(type) {\n    case 'DELETE_UNREGISTERED_CLIENTS_RESET':\n      return INITIAL_STATE_UNREGISTERED_CLIENTS_DELETION_STATUS\n    case 'DELETE_UNREGISTERED_CLIENTS_START':\n      return { ...state, hasSubmitted: false, success: false, isSubmitting: true }\n    case 'DELETE_UNREGISTERED_CLIENTS_END':\n      return { ...state, isSubmitting: false, pending: [], hasSubmitted: true, success, message }\n    case 'UPDATE_PENDING_UNREGISTERED_CLIENTS_FOR_DELETION':\n      if( Array.isArray(action.data) ) {\n        return { ...state, hasSubmitted: false, pending: action.data, success: false, message: '' }\n      } else {\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nfunction pendingOptions(state = {}, action = {}) {\n  const { type, change, activeKitToken, concreteVersion } = action\n\n  switch(type) {\n    case 'ADD_PENDING_OPTION':\n      return {...state, ...change}\n    case 'RESET_PENDING_OPTION':\n      const option = Object.keys(change)[0]\n      return omit(state, option)\n    case 'CHOOSE_AWAY_FROM_KIT_CONFIG':\n      return !!activeKitToken ? { kitToken: null, version: concreteVersion } : {}\n    case 'CHOOSE_INTO_KIT_CONFIG':\n    case 'RESET_PENDING_OPTIONS':\n    case 'OPTIONS_FORM_SUBMIT_END':\n      return {}\n    default:\n      return state\n  }\n}\n\nfunction preferenceConflicts(state = {}, action = {}) {\n  const { type } = action\n  \n  switch(type) {\n    case 'OPTIONS_FORM_SUBMIT_END':\n      if ( ! action.success ) {\n        return state\n      }\n\n      const conflicts = get(action, 'data.conflicts')\n\n      if(!! conflicts) {\n        return coerceEmptyArrayToEmptyObject(conflicts)\n      } else {\n        return coerceEmptyArrayToEmptyObject(state)\n      }\n    default:\n      return coerceEmptyArrayToEmptyObject(state)\n  }\n}\n\nfunction preferenceConflictDetection(\n  state = {\n    isChecking: false,\n    hasChecked: false,\n    success: false,\n    message: ''\n  },\n  action = {}\n  ){\n  const { type, success, message } = action\n\n  switch(type) {\n    case 'PREFERENCE_CHECK_START':\n      return { ...state, isChecking: true }\n    case 'PREFERENCE_CHECK_END':\n      return { ...state, isChecking: false, hasChecked: true, success, message }\n    case 'OPTIONS_FORM_SUBMIT_END':\n      return { ...state, isChecking: false, hasChecked: false, success: false, message: ''}\n    default:\n      return state\n  }\n}\n\nfunction kitsQueryStatus(\n  state = {\n    success: false,\n    hasSubmitted: false,\n    isSubmitting: false,\n    message: ''\n  },\n  action = {}) {\n  const { type, success, message } = action\n\n  switch(type) {\n    case 'KITS_QUERY_START':\n      return { ...state, isSubmitting: true }\n    case 'KITS_QUERY_END':\n      return { ...state, isSubmitting: false, hasSubmitted: true, success, message }\n    default:\n      return state\n  }\n}\n\nfunction kits( state = [], action = {} ) {\n  const { type, data, success } = action\n  switch(type) {\n    case 'KITS_QUERY_END':\n      if(success) {\n        return get(data, 'me.kits', [])\n      } else {\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nfunction pendingOptionConflicts(state = {}, action = {}) {\n  const { type, detectedConflicts = {} } = action\n\n  switch(type) {\n    case 'PREFERENCE_CHECK_END':\n      return { ...detectedConflicts }\n    case 'OPTIONS_FORM_SUBMIT_END':\n    case 'CHOOSE_AWAY_FROM_KIT_CONFIG':\n    case 'CHOOSE_INTO_KIT_CONFIG':\n      return {}\n    default:\n      return state\n  }\n}\n\nfunction detectConflictsUntil( state = 0, action = {} ) {\n  const { type, data } = action\n  const intValue = parseInt( get(data, 'detectConflictsUntil') )\n\n  switch(type) {\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_END':\n    case 'DISABLE_CONFLICT_DETECTION_SCANNER_END':\n      if(action.success && null !== data ) {\n        return isNaN(intValue) ? 0 : intValue\n      } else {\n        return state\n      }\n    default:\n      const initialIntValue = parseInt( state )\n      return isNaN(initialIntValue) ? 0 : initialIntValue\n  }\n}\n\nfunction unregisteredClients( state = {}, action = {} ) {\n  const { type, data } = action\n\n  switch(type) {\n    case 'CONFLICT_DETECTION_SUBMIT_END':\n      if( action.success && null !== data ) {\n        return coerceEmptyArrayToEmptyObject(data)\n      } else {\n        return coerceEmptyArrayToEmptyObject(state)\n      }\n    case 'BLOCKLIST_UPDATE_END':\n      if(action.success && Array.isArray(data)) {\n        const updatedState = Object.keys(state).reduce(\n          (acc, md5) => {\n            acc[md5].blocked = !!~data.indexOf(md5)\n            return acc\n          },\n          Object.assign({}, state) // operate on a copy\n        )\n        return coerceEmptyArrayToEmptyObject(updatedState)\n      } else {\n        return coerceEmptyArrayToEmptyObject(state)\n      }\n    case 'DELETE_UNREGISTERED_CLIENTS_END':\n      if(action.success && !!data) {\n        return data\n      } else {\n        return coerceEmptyArrayToEmptyObject(state)\n      }\n    default:\n      return coerceEmptyArrayToEmptyObject(state)\n  }\n}\n\n// Handles the state regarding what the conflict detection scanner finds when\n// scanning and the submission of those results to the server.\nfunction unregisteredClientDetectionStatus(\n  state = {\n    success: false,\n    hasSubmitted: false,\n    isSubmitting: false,\n    unregisteredClientsBeforeDetection: [],\n    recentConflictsDetected: {},\n    message: ''\n  },\n  action = {}) {\n\n  const { type, success, message, unregisteredClientsBeforeDetection, recentConflictsDetected } = action\n\n  switch(type) {\n    case 'CONFLICT_DETECTION_SUBMIT_START':\n      return { ...state, isSubmitting: true, unregisteredClientsBeforeDetection, recentConflictsDetected }\n    case 'CONFLICT_DETECTION_SUBMIT_END':\n      return {\n        ...state,\n        isSubmitting: false,\n        hasSubmitted: true,\n        success,\n        message\n      }\n    case 'CONFLICT_DETECTION_NONE_FOUND':\n      return { ...state, isSubmitting: false, success: true }\n    default:\n      return state\n  }\n}\n\n// Handles the state regarding the enabling or disabling of the conflict\n// detection scanner overall.\nfunction conflictDetectionScannerStatus(\n  state = {\n    isSubmitting: false,\n    hasSubmitted: false,\n    success: false,\n    message: ''\n  },\n  action = {}) {\n\n  const { type, success, message } = action\n\n  switch(type) {\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_START':\n    case 'DISABLE_CONFLICT_DETECTION_SCANNER_START':\n      return { ...state, hasSubmitted: false, success: false, isSubmitting: true }\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_END':\n    case 'DISABLE_CONFLICT_DETECTION_SCANNER_END':\n      return { ...state, hasSubmitted: true, isSubmitting: false, success, message }\n    default:\n      return state\n  }\n}\n\nfunction v3DeprecationWarningStatus(\n  state = {\n    isSubmitting: false,\n    hasSubmitted: false,\n    success: false,\n    message: ''\n  },\n  action = {}) {\n  const { type, success, message } = action\n\n  switch(type) {\n    case 'SNOOZE_V3DEPRECATION_WARNING_START':\n      return { ...state, isSubmitting: true, hasSubmitted: true }\n    case 'SNOOZE_V3DEPRECATION_WARNING_END':\n      return { ...state, isSubmitting: false, success, message }\n    default:\n      return state\n  }\n}\n\nfunction v3DeprecationWarning(state = {}, action = {}) {\n  const { type, snooze = false } = action\n\n  switch(type) {\n    case 'SNOOZE_V3DEPRECATION_WARNING_END':\n      return { ...state, snooze }\n    default:\n      return state\n  }\n}\n\nfunction showConflictDetectionReporter(state = false, action = {}) {\n  const { type } = action\n\n  switch(type) {\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_END':\n      return action.success\n    case 'DISABLE_CONFLICT_DETECTION_SCANNER_END':\n      // If we failed trying to disable the scanner, then it should remain\n      // visible to present the error state. If we succeeded, then we could\n      // stop showing it.\n      return ! action.success\n    case 'CONFLICT_DETECTION_TIMER_EXPIRED':\n      return false\n    default:\n      return coerceBool(state)\n  }\n}\n\nfunction userAttemptedToStopScanner(state = false, action = {}) {\n  const { type } = action\n\n  switch(type) {\n    case 'USER_STOP_SCANNER':\n      return true\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_START':\n    case 'ENABLE_CONFLICT_DETECTION_SCANNER_END':\n      return false\n    default:\n      return state\n  }\n}\n\nfunction activeAdminTab(state = ADMIN_TAB_SETTINGS, action = {}) {\n  const { type, tab } = action\n\n  switch(type) {\n    case 'SET_ACTIVE_ADMIN_TAB':\n      return tab\n    default:\n      return state\n  }\n}\n\nfunction simple(state = {}, _action) { return state }\n\nexport default combineReducers({\n  activeAdminTab,\n  apiNonce: simple,\n  apiUrl: simple,\n  blocklistUpdateStatus,\n  clientPreferences: coerceEmptyArrayToEmptyObject,\n  conflictDetectionScannerStatus,\n  detectConflictsUntil,\n  kits,\n  kitsQueryStatus,\n  onSettingsPage: coerceBool,\n  options,\n  optionsFormState,\n  pendingOptionConflicts,\n  pendingOptions,\n  pluginVersion: simple,\n  preferenceConflictDetection,\n  preferenceConflicts,\n  releases: simple,\n  settingsPageUrl: simple,\n  showAdmin: coerceBool,\n  showConflictDetectionReporter,\n  unregisteredClientDetectionStatus,\n  unregisteredClients,\n  unregisteredClientsDeletionStatus, \n  userAttemptedToStopScanner,\n  v3DeprecationWarning,\n  v3DeprecationWarningStatus\n})\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  updatePendingBlocklist,\n  updatePendingUnregisteredClientsForDeletion\n} from './store/actions'\nimport { blocklistSelector } from './store/reducers'\nimport styles from './UnregisteredClientsView.module.css'\nimport sharedStyles from './App.module.css'\nimport classnames from 'classnames'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faCheckSquare,\n  faThumbsUp } from '@fortawesome/free-solid-svg-icons'\nimport {\n    faSquare } from '@fortawesome/free-regular-svg-icons'\nimport get from 'lodash/get'\nimport truncate from 'lodash/truncate'\nimport size from 'lodash/size'\nimport isEqual from 'lodash/isEqual'\nimport sortedUnique from 'lodash/sortedUniq'\nimport difference from 'lodash/difference'\nimport { __ } from '@wordpress/i18n'\nimport { createInterpolateElement } from '@wordpress/element'\n\nfunction excerpt( content ) {\n  if( !! content ) {\n    return truncate( content, { length: 100 } )\n  } else {\n    return null\n  }\n}\n\nexport default function UnregisteredClientsView() {\n  const dispatch = useDispatch()\n  const unregisteredClients = useSelector(state => state.unregisteredClients)\n  const savedBlocklist = useSelector(state => blocklistSelector(state))\n  const blocklist = useSelector(state => {\n    if( null !== state.blocklistUpdateStatus.pending ) {\n      return state.blocklistUpdateStatus.pending\n    } else {\n      return savedBlocklist\n    }\n  })\n  const deleteList = useSelector( state => state.unregisteredClientsDeletionStatus.pending)\n  const detectedUnregisteredClients = size(Object.keys(unregisteredClients)) > 0\n  const allDetectedConflictsSelectedForBlocking = \n              isEqual(Object.keys(unregisteredClients).sort(), [...(blocklist || [])].sort())\n  const allDetectedConflictsSelectedForRemoval = \n              isEqual(Object.keys(unregisteredClients).sort(), [...(deleteList || [])].sort())\n  const allDetectedConflicts = Object.keys(unregisteredClients)\n\n  function isCheckedForBlocking(md5) {\n    return !! blocklist.find(x => x === md5)\n  }\n\n  function isCheckedForRemoval(md5) {\n    return !! deleteList.find(x => x === md5)\n  }\n\n  function changeCheckForRemoval(md5, allDetectedConflicts) {\n    const newDeleteList = 'all' === md5\n      ? allDetectedConflictsSelectedForRemoval\n        ? [] // uncheck them all\n        : allDetectedConflicts // check them all\n      : isCheckedForRemoval(md5)\n        ? deleteList.filter(x => x !== md5)\n        : [...deleteList, md5]\n    \n    dispatch(updatePendingUnregisteredClientsForDeletion(newDeleteList))\n  }\n\n  function changeCheckForBlocking(md5, allDetectedConflicts) {\n    const newBlocklist = 'all' === md5\n      ? allDetectedConflictsSelectedForBlocking\n        ? [] // uncheck them all\n        : allDetectedConflicts // check them all\n      : isCheckedForBlocking(md5)\n        ? blocklist.filter(x => x !== md5)\n        : [...blocklist, md5]\n\n    const orig = sortedUnique( savedBlocklist )\n    const updated = sortedUnique( newBlocklist )\n\n    if(\n      orig.length === updated.length &&\n      0 === size( difference(orig, updated) ) &&\n      0 === size( difference(updated, orig) )\n    ) {\n      dispatch(updatePendingBlocklist(null))\n    } else {\n      dispatch(updatePendingBlocklist(newBlocklist))\n    }\n  }\n\n  return <div className={ classnames(styles['unregistered-clients'], { [styles['none-detected']]: !detectedUnregisteredClients }) }>\n    <h3 className={ sharedStyles['section-title'] }>{ __( 'Other themes or plugins', 'font-awesome' ) }</h3>\n    {detectedUnregisteredClients\n      ? <div>\n          <p className={sharedStyles['explanation']}>\n            {\n              __( 'Below is the list of other versions of Font Awesome from active plugins or themes that are loading on your site. Check off any that you would like to block from loading. Normally this just blocks the conflicting version of Font Awesome and doesn\\'t affect the other functions of the plugin, but you should verify your site works as expected. If you think you\\'ve fixed a found conflict, you can clear it from the table.', 'font-awesome' )\n            }\n          </p>\n          <table className={classnames('widefat', 'striped')}>\n            <thead>\n            <tr className={sharedStyles['table-header']}>\n              <th>\n              <div className={ styles['column-label'] }>{ __( 'Block', 'font-awesome' ) }</div>\n                {\n                  size( allDetectedConflicts ) > 1 &&\n                  <div className={ styles['block-all-container'] }>\n                    <input\n                      id='block_all_detected_conflicts'\n                      name='block_all_detected_conflicts'\n                      type=\"checkbox\"\n                      value='all'\n                      checked={ allDetectedConflictsSelectedForBlocking }\n                      onChange={ () => changeCheckForBlocking('all', allDetectedConflicts) }\n                      className={ classnames(sharedStyles['sr-only'], sharedStyles['input-checkbox-custom']) }\n                    />\n                    <label htmlFor='block_all_detected_conflicts' className={ styles['checkbox-label'] }>\n                      <span className={ sharedStyles['relative'] }>\n                        <FontAwesomeIcon\n                          icon={ faCheckSquare }\n                          className={ sharedStyles['checked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                        <FontAwesomeIcon\n                          icon={ faSquare }\n                          className={ sharedStyles['unchecked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                      </span>\n                      { __( 'All', 'font-awesome' ) }\n                    </label>\n                  </div>\n                }\n              </th>\n              <th>\n                <span className={ styles['column-label'] }>\n                  { __( 'Type', 'font-awesome' ) }\n                </span>\n              </th>\n              <th>\n                <span className={ styles['column-label'] }>\n                  { __( 'URL', 'font-awesome' ) }\n                </span>\n              </th>\n              <th>\n                <div className={ styles['column-label'] }>{ __( 'Clear', 'font-awesome' ) }</div>\n                {\n                  size( allDetectedConflicts ) > 1 &&\n                  <div className={ styles['remove-all-container'] }>\n                    <input\n                      id='remove_all_detected_conflicts'\n                      name='remove_all_detected_conflicts'\n                      type=\"checkbox\"\n                      value='all'\n                      checked={ allDetectedConflictsSelectedForRemoval }\n                      onChange={ () => changeCheckForRemoval('all', allDetectedConflicts) }\n                      className={ classnames(sharedStyles['sr-only'], sharedStyles['input-checkbox-custom']) }\n                    />\n                    <label htmlFor='remove_all_detected_conflicts' className={ styles['checkbox-label'] }>\n                      <span className={ sharedStyles['relative'] }>\n                        <FontAwesomeIcon\n                          icon={ faCheckSquare }\n                          className={ sharedStyles['checked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                        <FontAwesomeIcon\n                          icon={ faSquare }\n                          className={ sharedStyles['unchecked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                      </span>\n                      { __( 'All', 'font-awesome' ) }\n                    </label>\n                  </div>\n                }\n              </th>\n            </tr>\n            </thead>\n            <tbody>\n            {\n              allDetectedConflicts.map(md5 => (\n                <tr key={md5}>\n                  <td>\n                    <input\n                      id={`block_${md5}`}\n                      name={`block_${md5}`}\n                      type=\"checkbox\"\n                      value={ md5 }\n                      checked={ isCheckedForBlocking(md5) }\n                      onChange={ () => changeCheckForBlocking(md5) }\n                      className={ classnames(sharedStyles['sr-only'], sharedStyles['input-checkbox-custom']) }\n                    />\n                    <label htmlFor={`block_${md5}`} className={ styles['checkbox-label'] }>\n                      <span className={ sharedStyles['relative'] }>\n                        <FontAwesomeIcon\n                          icon={ faCheckSquare }\n                          className={ sharedStyles['checked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                        <FontAwesomeIcon\n                          icon={ faSquare }\n                          className={ sharedStyles['unchecked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                      </span>\n                    </label>\n                  </td>\n                  <td>\n                    {get(unregisteredClients[md5], 'tagName', 'unknown').toLowerCase()}\n                  </td>\n                  <td>\n                    {\n                      unregisteredClients[md5].src\n                      || unregisteredClients[md5].href\n                      || createInterpolateElement(\n                        __( '<em>in page source. </em><excerpt/>', 'font-awesome' ),\n                        {\n                          em: <em />,\n                          excerpt: (\n                            ( content ) => content\n                              ? <>\n                               File starts with: <code>{ content }</code>\n                              </>\n                              : ''\n                          ) ( excerpt( get(unregisteredClients[md5], 'innerText') ) )\n                        }\n                      )\n                    }\n                  </td>\n                  <td>\n                    <input\n                      id={`remove_${md5}`}\n                      name={`remove_${md5}`}\n                      type=\"checkbox\"\n                      value={ md5 }\n                      checked={ isCheckedForRemoval(md5) }\n                      onChange={ () => changeCheckForRemoval(md5) }\n                      className={ classnames(sharedStyles['sr-only'], sharedStyles['input-checkbox-custom']) }\n                    />\n                    <label htmlFor={`remove_${md5}`} className={ styles['checkbox-label'] }>\n                      <span className={ sharedStyles['relative'] }>\n                        <FontAwesomeIcon\n                          icon={ faCheckSquare }\n                          className={ sharedStyles['checked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                        <FontAwesomeIcon\n                          icon={ faSquare }\n                          className={ sharedStyles['unchecked-icon'] }\n                          size=\"lg\"\n                          fixedWidth\n                        />\n                      </span>\n                    </label>\n                  </td>\n                </tr>\n              ))\n            }\n            </tbody>\n          </table>\n        </div>\n      : <div className={ classnames(sharedStyles['explanation'], sharedStyles['flex'], sharedStyles['flex-row'] )}>\n          <div>\n            <FontAwesomeIcon icon={ faThumbsUp } size='lg'/>\n          </div>\n          <div className={ sharedStyles['space-left'] }>\n            { __( 'We haven\\'t detected any plugins or themes trying to load Font Awesome.', 'font-awesome' ) }\n          </div>\n      </div>\n    }\n  </div>\n}\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faClock, faSpinner, faCheck, faSkull } from '@fortawesome/free-solid-svg-icons'\nimport { snoozeV3DeprecationWarning } from './store/actions'\nimport styles from './V3DeprecationWarning.module.css'\nimport classnames from 'classnames'\nimport Alert from './Alert'\nimport { __, sprintf } from '@wordpress/i18n'\nimport { createInterpolateElement } from '@wordpress/element'\n\nexport default function V3DeprecationWarning() {\n  const { snooze, atts, v5name, v5prefix } = useSelector(state => state.v3DeprecationWarning)\n  const { isSubmitting, hasSubmitted, success } = useSelector(state => state.v3DeprecationWarningStatus)\n  const dispatch = useDispatch()\n\n  if (snooze) return null\n\n  return <Alert\n    title={ __( 'Font Awesome 3 icon names are deprecated', 'font-awesome' ) } \n    type='warning'\n    >\n      <p>\n        {\n          createInterpolateElement(\n            sprintf(\n              __('Looks like you\\'re using an old Font Awesome 3 icon name in your shortcode: <code>%s</code>. We discontinued support for Font Awesome 3 quite some time ago. Won\\'t you jump into <a>the newest Font Awesome</a> with us? It\\'s way better, and it\\'s easy to upgrade.', 'font-awesome' ),\n              atts.name\n            ),\n            {\n              code: <code />,\n                // eslint-disable-next-line jsx-a11y/anchor-has-content\n              a: <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/\" />\n            }\n          )\n        }\n      </p>\n\n      <p>\n        { __('Just adjust your shortcode from this:', 'font-awesome' ) }\n      </p>\n        \n      <blockquote><code>[icon name=\"{ atts.name }\"]</code></blockquote>\n\n      <p>\n        { __( 'to this:', 'font-awesome' ) }\n      </p>\n\n      <blockquote><code>[icon name=\"{ v5name }\" prefix=\"{ v5prefix }\"]</code></blockquote>\n\n      <p>\n        {\n          createInterpolateElement(\n            __( 'You\\'ll need to go adjust any version 3 icon names in [icon] shortcodes in your pages, posts, widgets, templates (or wherever they\\'re coming from) to the new format with prefix. You can check the icon names and prefixes in our <linkIconGallery>Icon Gallery</linkIconGallery>. But what\\'s that prefix, you ask? We now support a number of different styles for each icon. <linkLearnMore>Learn more</linkLearnMore>', 'font-awesome' ),\n            {\n              // eslint-disable-next-line jsx-a11y/anchor-has-content\n              linkIconGallery: <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/icons?d=gallery\" />,\n              // eslint-disable-next-line jsx-a11y/anchor-has-content\n              linkLearnMore: <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://fontawesome.com/how-to-use/on-the-web/setup/upgrading-from-version-4#changes\" />\n            }\n          )\n        }\n      </p>\n\n      <p>\n        {\n          createInterpolateElement(\n            __( 'Once you update your icon shortcodes, this warning will disappear or you could hit snooze to hide it for a while. <strong>But we\\'re gonna remove this v3-to-v5 magic soon, though, so don\\'t wait forever.</strong>', 'font-awesome' ),\n            {\n              strong: <strong />\n            }\n          )\n        }\n      </p>\n\n      <p>\n        <button disabled={ isSubmitting } onClick={ () => dispatch(snoozeV3DeprecationWarning()) } className={ classnames( styles['snooze-button'], 'button', 'button-primary' ) }>\n          {\n            isSubmitting\n              ?  <FontAwesomeIcon icon={ faSpinner } spin className={ styles['submitting'] } />\n              : hasSubmitted\n              ? success\n                ? <FontAwesomeIcon icon={ faCheck } className={ styles['success'] }/>\n                : <FontAwesomeIcon icon={ faSkull } className={ styles['fail'] }/>\n              : <FontAwesomeIcon icon={ faClock } className={ styles['snooze'] }/>\n          }\n          <span className={ styles['label'] }>{ __( 'Snooze', 'font-awesome' ) }</span>\n        </button>\n      </p>\n  </Alert>\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector, useDispatch } from 'react-redux'\nimport sharedStyles from './App.module.css'\nimport padStart from 'lodash/padStart'\nimport dropWhile from 'lodash/dropWhile'\nimport { __, sprintf } from '@wordpress/i18n'\n\nconst SECONDS_PER_DAY = 60 * 60 * 24\nconst SECONDS_PER_HOUR = 60 * 60\nconst SECONDS_PER_MINUTE = 60\n\nexport function timerString(durationSeconds) {\n  const days = Math.floor(durationSeconds / SECONDS_PER_DAY)\n  const hours = Math.floor((durationSeconds - (days * SECONDS_PER_DAY)) / SECONDS_PER_HOUR)\n  const minutes = Math.floor((durationSeconds - (days * SECONDS_PER_DAY + hours * SECONDS_PER_HOUR)) / SECONDS_PER_MINUTE)\n  const seconds = durationSeconds - (days * SECONDS_PER_DAY + hours * SECONDS_PER_HOUR + minutes * SECONDS_PER_MINUTE)\n\n  return dropWhile(\n    [days, hours, minutes, seconds].reduce((acc, unit, index) => {\n      if(0 === index && unit !== 0){\n        acc.push(unit.toString())\n      } else {\n        acc.push(padStart(unit.toString(), 2, '0'))\n      }\n      return acc\n    }, []),\n    part => part.match(/^[0]+$/)\n  ).join(':')\n}\n\nfunction secondsRemaining(endTime) {\n  const now = Math.floor((new Date()) / 1000)\n  const remaining = endTime - now\n\n  return remaining < 0 ? 0 : remaining\n}\n\nexport default function ConflictDetectionTimer({ addDescription, children }) {\n  const detectConflictsUntil = useSelector(state => state.detectConflictsUntil)\n  const [timeRemaining, setTimer] = useState(secondsRemaining(detectConflictsUntil))\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    let timeoutId = null\n\n    if(secondsRemaining(detectConflictsUntil) > 0) {\n      timeoutId = setTimeout(() => setTimer(secondsRemaining(detectConflictsUntil)), 1000)\n    } else {\n      setTimer(timerString(0))\n      dispatch({\n        type: 'CONFLICT_DETECTION_TIMER_EXPIRED'\n      })\n    }\n\n    return () => timeoutId && clearTimeout( timeoutId )\n  }, [detectConflictsUntil, timeRemaining, dispatch])\n\n  return timeRemaining <= 0 ? null : <span className={ sharedStyles['conflict-detection-timer'] }>\n    { timerString( timeRemaining ) }\n    {\n      !!addDescription &&\n      (\n        timeRemaining > 60\n        /* translators: 1: space */\n        ? sprintf( __( '%1$sminutes left to browse your site for trouble', 'font-awesome' ), ' ' )\n        /* translators: 1: space */\n        : sprintf( __( '%1$sseconds left to browse your site for trouble', 'font-awesome' ), ' ' )\n      )\n    }\n    {\n      children\n    }\n    </span>\n}\n\nConflictDetectionTimer.propTypes = {\n  addDescription: PropTypes.bool\n}\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setConflictDetectionScanner, userAttemptToStopScanner } from './store/actions'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheckCircle, faCog, faExclamationTriangle, faGrin, faSkull, faThumbsUp, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\nimport { ADMIN_TAB_TROUBLESHOOT } from './store/reducers'\nimport ConflictDetectionTimer from './ConflictDetectionTimer'\nimport size from 'lodash/size'\nimport has from 'lodash/has'\nimport { __ } from '@wordpress/i18n'\nimport ErrorBoundary from './ErrorBoundary'\n\n// NOTE: We don't have Webpack set up to handle the loading of CSS modules in\n// a way that is compatible with our use of Shadow DOM. After a failed attempt\n// to do so, we'll just use the standard React Style Object technique for assigning\n// styles.\n// See: https://reactjs.org/docs/dom-elements.html#style\n\nconst STATUS = {\n  running: {\n    code: 'Running',\n    display: __( 'Running', 'font-awesome' )\n  },\n  done: {\n    code: 'Done',\n    display: __( 'Done', 'font-awesome' )\n  },\n  submitting: {\n    code: 'Submitting',\n    display: __( 'Submitting', 'font-awesome' )\n  },\n  none: {\n    code: 'None',\n    display: __( 'None', 'font-awesome' )\n  },\n  error: {\n    code: 'Error',\n    display: __( 'Error', 'font-awesome' )\n  },\n  expired: {\n    code: 'Expired',\n    display: __( 'Expired', 'font-awesome' )\n  },\n  ready: {\n    code: 'Ready',\n    display: __( 'Ready', 'font-awesome' )\n  },\n  stopped: {\n    code: 'Stopped',\n    display: __( 'Stopped', 'font-awesome' )\n  },\n  stopping: {\n    code: 'Stopping',\n    display: __( 'Stopping', 'font-awesome' )\n  },\n  restarting: {\n    code: 'Restarting',\n    display: __( 'Restarting', 'font-awesome' )\n  }\n}\n\nconst STYLES = {\n  container: {\n    position: 'fixed',\n    fontFamily:'\"Helvetica Neue\",Helvetica,Arial,sans-serif',\n    right: '10px',\n    bottom: '10px',\n    width: '450px',\n    height: 'auto',\n    maxHeight: '60%',\n    border: '1px solid #CDD4DB',\n    borderRadius: '3px',\n    boxShadow: '1px 1px 5px 0 rgba(132,142,151,.3)',\n    background: '#008DED',\n    zIndex: '99',\n    overflowY: 'scroll',\n    fontSize: '14px',\n    lineHeight: '1.4em',\n    color: '#fff'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '5px 20px', \n    color: '#CAECFF'\n  },\n  content: {\n    width: '100%',\n    padding: '0 20px 10px 20px',\n    boxSizing: 'border-box'\n  },\n  adminEyesOnly: {\n    margin: '0',\n    fontSize: '12px'\n  },\n  h1: {\n    margin: '.3em 0',\n    fontSize: '14px'\n  },\n  h2: {\n    margin: '.3em 0',\n    fontSize: '18px'\n  },\n  p: {\n    margin: '.5em 0'\n  },\n  link: {\n    color: '#fff'\n  },\n  tally: {\n    display: 'flex', \n    alignItems: 'center',\n    margin: '.5em 0', \n    textAlign: 'center'\n  },\n  count: {\n    flexBasis: '1em',\n    marginRight: '5px',\n    fontWeight: '600', \n    fontSize: '20px'\n  },\n  timerRow: {\n    display: 'flex',\n    alignItems: 'center',\n    backgroundColor: '#0064B1',\n    padding: '10px 20px',\n    color: '#fff', \n    fontWeight: '600'\n  },\n  button: {\n    margin: '0 0 0 10px',\n    border: '0',\n    padding: '5px',\n    backgroundColor: 'transparent',\n    color: '#fff', \n    opacity: '.7',\n    cursor: 'pointer'\n  },\n  badness: {\n    padding: '20px 25px',\n    backgroundColor: '#FFC100',\n    color: '#202529'\n  }\n}\n\nfunction withErrorBoundary( Component ) {\n  return class extends ErrorBoundary {\n    render() {\n      return <div style={ STYLES.container }>\n        {\n          !!this.state.error\n          ? <div style={ STYLES.badness }>\n              <FontAwesomeIcon icon={ faExclamationTriangle } />\n            {\n              __( ' Whoops, this is embarrassing! Some unexpected error has occurred. There might be some additional diagnostic information in the JavaScript console.', 'font-awesome' )\n            }\n            </div>\n          : <Component />\n        }\n      </div>\n    }\n  }\n}\n\nfunction ConflictDetectionReporter() {\n  const dispatch = useDispatch()\n  const settingsPageUrl = useSelector(state => state.settingsPageUrl)\n  const troubleshootTabUrl = `${settingsPageUrl}&tab=ts`\n  const activeAdminTab = useSelector(state => state.activeAdminTab )\n  const currentlyOnPluginAdminPage = window.location.href.startsWith(settingsPageUrl)\n  const currentlyOnTroubleshootTab = currentlyOnPluginAdminPage && activeAdminTab === ADMIN_TAB_TROUBLESHOOT\n  const userAttemptedToStopScanner = useSelector(state => state.userAttemptedToStopScanner)\n\n  const unregisteredClients = useSelector(\n    state => state.unregisteredClients\n  )\n\n  const unregisteredClientsBeforeDetection = useSelector(\n    state => state.unregisteredClientDetectionStatus.unregisteredClientsBeforeDetection\n  )\n\n  const recentConflictsDetected = useSelector(\n    state => state.unregisteredClientDetectionStatus.recentConflictsDetected\n  )\n\n  const expired = useSelector(\n    state => !state.showConflictDetectionReporter\n  )\n\n  const restarting = useSelector(\n    state => expired && state.conflictDetectionScannerStatus.isSubmitting\n  )\n\n  const scannerReady = useSelector(\n    state => state.conflictDetectionScannerStatus.hasSubmitted && state.conflictDetectionScannerStatus.success\n  )\n\n  const scannerIsStopping = useSelector(\n    state => userAttemptedToStopScanner\n      && !state.conflictDetectionScannerStatus.hasSubmitted\n  )\n\n  const userStoppedScannerSuccessfully = useSelector(\n    state => userAttemptedToStopScanner\n      && !scannerIsStopping\n      && state.conflictDetectionScannerStatus.success\n  )\n\n  const runStatus = useSelector(state => {\n    const { isSubmitting, hasSubmitted, success } = state.unregisteredClientDetectionStatus\n    if (userAttemptedToStopScanner) {\n      if ( scannerIsStopping ) {\n        return STATUS.stopping\n      } else if (userStoppedScannerSuccessfully) {\n        return STATUS.stopped\n      } else {\n        // The user clicked to disable the scanner, and that action failed somehow.\n        // Probably a fluke in the communication between the browser and the WordPress server.\n        return STATUS.error\n      }\n    } else if (restarting) {\n      return STATUS.restarting\n    } else if ( expired ) {\n      return STATUS.expired\n    } else if (scannerReady) {\n      return STATUS.ready\n    } else if ( success && 0 === size( unregisteredClients ) ) {\n      return STATUS.none\n    } else if ( success ) {\n      return STATUS.done\n    } else if( isSubmitting ) {\n      return STATUS.submitting\n    } else if( !hasSubmitted ){\n      return STATUS.running\n    } else {\n      return STATUS.error\n    }\n  })\n\n  const errorMessage = useSelector(\n    state => state.unregisteredClientDetectionStatus.message\n  )\n\n  function stopScanner() {\n    dispatch(userAttemptToStopScanner())\n    dispatch(setConflictDetectionScanner({ enable: false }))\n  }\n\n  const expiredOrStoppedDiv = \n    <div>\n        <h2 style={ STYLES.tally }><span>{ size( unregisteredClients ) }</span> <span>&nbsp;{ __( 'Results to Review', 'font-awesome' ) }</span></h2>\n        <p style={ STYLES.p }>\n          {\n            currentlyOnTroubleshootTab\n            ? __( 'Manage results or restart the scanner here on the Troubleshoot tab.', 'font-awesome' )\n            : <>\n              {\n                __( 'Manage results or restart the scanner on the Troubleshoot tab.', 'font-awesome' )\n              } <a href={ troubleshootTabUrl } style={ STYLES.link }>{ __('Go', 'font-awesome' ) }</a>\n              </>\n          }\n      </p>\n    </div>\n\n  const stoppingOrSubmittingDiv =\n    <div>\n      <div style={ STYLES.status }>\n        <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faCog } size=\"sm\" spin /> <span>{ runStatus.display }</span></h2>\n      </div>\n    </div>\n\n  return (\n    <>\n      <div style={ STYLES.header }>\n        <h1 style={ STYLES.h1 }>{ __( 'Font Awesome Conflict Scanner', 'font-awesome' ) }</h1>\n        <p style={ STYLES.adminEyesOnly }>{ __( 'only admins can see this box', 'font-awesome' ) }</p>\n      </div>\n      <div style={ STYLES.content }>\n\n        {\n          {\n            None:\n              <div>\n                <div style={ STYLES.status }>\n                  <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faGrin } size=\"sm\" /> <span>{ __( 'All clear!', 'font-awesome' ) }</span></h2>\n                  <p style={ STYLES.p }>{ __( 'No new conflicts found on this page.', 'font-awesome' ) }</p>\n                </div>\n              </div>,\n            Running:\n              <div>\n                <div style={ STYLES.status }>\n                  <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faCog } size=\"sm\" spin /> <span>{ __( 'Scanning', 'font-awesome' ) }...</span></h2>\n                </div>\n              </div>,\n            Restarting:\n              <div>\n                <div style={ STYLES.status }>\n                  <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faCog } size=\"sm\" spin /> <span>{ __( 'Restarting', 'font-awesome' ) }...</span></h2>\n                </div>\n              </div>,\n            Ready:\n              <div>\n                <div>\n                  <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faThumbsUp } size=\"sm\" /> { __( 'Proton pack charged!', 'font-awesome' ) }</h2>\n                  <p style={ STYLES.p }>{ __( 'Wander through the pages of your web site and this scanner will track progress.', 'font-awesome' ) }</p>\n                </div>\n              </div>,\n            Submitting: stoppingOrSubmittingDiv,\n            Stopping: stoppingOrSubmittingDiv,\n            Done:\n              <div>\n                <div style={ STYLES.status }>\n                  <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faCheckCircle } size=\"sm\" /> <span>{ __( 'Page scan complete', 'font-awesome' ) }</span></h2>\n                </div>\n                <p style={ STYLES.tally }><span style={ STYLES.count }>{ size( Object.keys( recentConflictsDetected ).filter(k => ! has(unregisteredClientsBeforeDetection, k) ) ) }</span> <span>{ __( 'new conflicts found on this page', 'font-awesome' ) }</span></p>\n                <p style={ STYLES.tally }><span style={ STYLES.count }>{ size( unregisteredClients ) }</span> <span>total found</span>\n                {\n                  currentlyOnTroubleshootTab ?\n                  <span>&nbsp;({ __( 'manage conflicts here on the Troubleshoot tab', 'font-awesome' ) })</span>\n                  : <span>&nbsp;(<a href={ troubleshootTabUrl } style={ STYLES.link }>{ __( 'manage', 'font-awesome' ) }</a>)</span>\n                }\n                </p>\n              </div>,\n            Expired: expiredOrStoppedDiv,\n            Stopped: expiredOrStoppedDiv,\n            Error:\n              <div>\n                <h2 style={ STYLES.h2 }><FontAwesomeIcon icon={ faSkull } /> <span>{ __( 'Don\\'t cross the streams! It would be bad.', 'font-awesome' ) }</span></h2>\n                <p style={ STYLES.p }>\n                  { errorMessage }\n                </p>\n              </div>\n          }[runStatus.code]\n        }\n      </div>\n      <div style={ STYLES.timerRow }>\n        <span>\n          <ConflictDetectionTimer addDescription>\n            <button style={ STYLES.button } title={ __( 'Stop timer', 'font-awesome' ) } onClick={() => stopScanner()}>\n              <FontAwesomeIcon icon={ faTimesCircle } size=\"lg\" />\n            </button>\n          </ConflictDetectionTimer>\n        </span>\n        {\n          {\n            Expired: __( 'Timer expired', 'font-awesome' ),\n            Stopped: __( 'Timer stopped', 'font-awesome' ),\n            Restarting: null\n          }[runStatus.code]\n        }\n      </div>\n    </>\n  )\n}\n\nexport default withErrorBoundary( ConflictDetectionReporter )\n","import ConflictDetectionReporter from './ConflictDetectionReporter'\nimport { dom } from '@fortawesome/fontawesome-svg-core'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport retargetEvents from 'react-shadow-dom-retarget-events'\n\nexport const CONFLICT_DETECTION_SHADOW_HOST_ID = 'font-awesome-plugin-conflict-detection-shadow-host'\n// report: the report callback function to assign to the global\n//     window.FontAwesomeDetection.report\n// store: the redux store\n// now: boolean (default = false) to mount now, synchronously. If false,\n//     we'll mount on DOMContentLoaded.\nexport function mountConflictDetectionReporter({ report = () => {}, store, now = false }) {\n  // This needs to be set earlier than DOMContentLoaded, as soon as this script is enqueued,\n  // because it needs to add global configuration that the conflict detector will use.\n  window.FontAwesomeDetection = {\n    ...(window.FontAwesomeDetection || {}),\n    report\n  }\n\n  const doMount = () => {\n    const conflictDetectionShadowRootElement = document.createElement('DIV')\n    conflictDetectionShadowRootElement.setAttribute('id', CONFLICT_DETECTION_SHADOW_HOST_ID)\n    document.body.appendChild(conflictDetectionShadowRootElement)\n    const shadow = conflictDetectionShadowRootElement.attachShadow({ mode: 'open' })\n    // React doesn't seem to natively handle click events that originate inside\n    // a shadow DOM. This utility will cause things to work like you'd expect.\n    // See: https://github.com/spring-media/react-shadow-dom-retarget-events\n    retargetEvents(shadow)\n\n    const faStyle = document.createElement('STYLE')\n    const css = dom.css()\n    const cssText = document.createTextNode(css)\n    faStyle.appendChild(cssText)\n\n    const shadowContainer = document.createElement('DIV')\n\n    shadow.appendChild(faStyle)\n    shadow.appendChild(shadowContainer)\n\n    ReactDOM.render(\n      <Provider store={ store }>\n        <ConflictDetectionReporter />\n      </Provider>,\n      shadowContainer\n    )\n  }\n\n  if(now) {\n    doMount()\n  } else {\n    document.addEventListener('DOMContentLoaded', doMount)\n  }\n}\n\nexport function isConflictDetectionReporterMounted() {\n  const shadowHost = document.getElementById(CONFLICT_DETECTION_SHADOW_HOST_ID)\n  if(! shadowHost ) return false\n\n  return !!shadowHost.shadowRoot\n}\n","import React, { useEffect } from 'react'\nimport sharedStyles from './App.module.css'\nimport { useDispatch, useSelector, useStore } from 'react-redux'\nimport { setConflictDetectionScanner, CONFLICT_DETECTION_SCANNER_DURATION_MIN, reportDetectedConflicts } from './store/actions'\nimport ConflictDetectionTimer from './ConflictDetectionTimer'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSpinner, faCheck, faSkull } from '@fortawesome/free-solid-svg-icons'\nimport { mountConflictDetectionReporter, isConflictDetectionReporterMounted } from './mountConflictDetectionReporter'\nimport { __, sprintf } from '@wordpress/i18n'\nimport { createInterpolateElement } from '@wordpress/element'\n\nexport default function ConflictDetectionScannerSection() {\n  const dispatch = useDispatch()\n  const detectConflictsUntil = useSelector(state => state.detectConflictsUntil)\n  const nowMs = (new Date()).valueOf()\n  const detectingConflicts = (new Date(detectConflictsUntil * 1000)) > nowMs\n  const { isSubmitting, hasSubmitted, message, success } = useSelector(state => state.conflictDetectionScannerStatus)\n  const showConflictDetectionReporter = useSelector(state => state.showConflictDetectionReporter)\n  const store = useStore()\n\n  useEffect(() => {\n    if(showConflictDetectionReporter && !isConflictDetectionReporterMounted()) {\n      mountConflictDetectionReporter({\n        report: params => store.dispatch(reportDetectedConflicts(params)),\n        store,\n        now: true\n      })\n    }\n  }, [ showConflictDetectionReporter, store ])\n\n  return <div>\n    <h2 className={ sharedStyles['section-title'] }>{ __( 'Detect Conflicts with Other Versions of Font Awesome', 'font-awesome' ) }</h2>\n    <div className={sharedStyles['explanation']}>\n      <p>\n        { __( 'If you are having trouble loading Font Awesome icons on your WordPress site, it may be because other themes or plugins are loading conflicting versions of Font Awesome. You can use our conflict scanner to detect other versions of Font Awesome running on your site.', 'font-awesome' ) }\n      </p>\n\n      <p>\n        {\n          createInterpolateElement(\n            __( 'Enable the scanner below and a box will appear in the bottom corner of your window while it runs for 10 minutes (only you and other admins can see the box). While the scanner is running, browse your site, especially the pages having trouble to catch any <noWrap>Slimers - *ahem* - conflicts</noWrap> in the scanner.', 'font-awesome' ),\n            {\n              noWrap: <span style={{ whiteSpace: \"nowrap\" }} />\n            }\n          )\n        } \n      </p>\n    </div>\n    <div className={sharedStyles['scanner-actions']}>\n      {\n        detectingConflicts\n        ? <button className={sharedStyles['faPrimary']} disabled >\n            { __( 'Scanner running', 'font-awesome' ) }: <ConflictDetectionTimer />\n          </button>\n        : <button className=\"button button-primary\" disabled={ isSubmitting } onClick={() => dispatch(setConflictDetectionScanner({ enable: true }))}>\n            {\n              sprintf(\n                __( 'Enable scanner for %d minutes', 'font-awesome' ),\n                CONFLICT_DETECTION_SCANNER_DURATION_MIN \n              )\n            }\n          </button>\n      }\n      <div className={sharedStyles['scanner-runstatus']}>\n      {\n        isSubmitting\n        ? <FontAwesomeIcon icon={ faSpinner } spin />\n        : hasSubmitted\n          ? success\n            ? <FontAwesomeIcon icon={ faCheck } />\n            : <><FontAwesomeIcon icon={ faSkull } /> <span>{ message }</span></>\n          : null\n      }\n      </div>\n    </div>\n    <hr className={ sharedStyles['section-divider'] }/>\n  </div>\n}\n","import React from 'react'\nimport ManageFontAwesomeVersionsSection from './ManageFontAwesomeVersionsSection'\nimport UnregisteredClientsView from './UnregisteredClientsView'\nimport V3DeprecationWarning from './V3DeprecationWarning'\nimport ConflictDetectionScannerSection from './ConflictDetectionScannerSection'\nimport sharedStyles from './App.module.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n  submitPendingBlocklist,\n  submitPendingUnregisteredClientDeletions,\n  resetPendingBlocklistSubmissionStatus,\n  resetUnregisteredClientsDeletionStatus\n} from './store/actions'\nimport {\n  faCheck,\n  faSkull,\n  faSpinner } from '@fortawesome/free-solid-svg-icons'\nimport classnames from 'classnames'\nimport size from 'lodash/size'\nimport { __ } from '@wordpress/i18n'\n\nexport default function TroubleshootTab() {\n  const dispatch = useDispatch()\n  const hasV3DeprecationWarning = useSelector(state => !!state.v3DeprecationWarning)\n  const unregisteredClients = useSelector(state => state.unregisteredClients)\n\n  const blocklistUpdateStatus = useSelector(state => state.blocklistUpdateStatus)\n  const unregisteredClientsDeletionStatus = useSelector(state => state.unregisteredClientsDeletionStatus)\n\n  const showSubmitButton = size( unregisteredClients ) > 0\n  const hasPendingChanges = null !== blocklistUpdateStatus.pending || size( unregisteredClientsDeletionStatus.pending ) > 0\n  const hasSubmitted = unregisteredClientsDeletionStatus.hasSubmitted || blocklistUpdateStatus.hasSubmitted\n  const isSubmitting = unregisteredClientsDeletionStatus.isSubmitting || blocklistUpdateStatus.isSubmitting\n\n  const submitSuccess =\n    (unregisteredClientsDeletionStatus.hasSubmitted || blocklistUpdateStatus.hasSubmitted) &&\n    (unregisteredClientsDeletionStatus.success || !unregisteredClientsDeletionStatus.hasSubmitted) &&\n    (blocklistUpdateStatus.success || !blocklistUpdateStatus.hasSubmitted)\n\n  function handleSubmitClick(e) {\n    e.preventDefault()\n\n    if ( blocklistUpdateStatus.pending ) {\n      dispatch(submitPendingBlocklist())\n    } else {\n      dispatch(resetPendingBlocklistSubmissionStatus())\n    }\n\n    if ( size( unregisteredClientsDeletionStatus.pending ) > 0 ) {\n      dispatch(submitPendingUnregisteredClientDeletions())\n    } else {\n      dispatch(resetUnregisteredClientsDeletionStatus())\n    }\n  }\n\n  return <>\n    <div className={ sharedStyles['wrapper-div'] }>\n      { hasV3DeprecationWarning && <V3DeprecationWarning /> }\n      <ConflictDetectionScannerSection />\n      <ManageFontAwesomeVersionsSection />\n      <UnregisteredClientsView />\n    </div>\n    {\n      showSubmitButton &&\n        <div className={ classnames(sharedStyles['submit-wrapper'], ['submit']) }>\n          <input\n            type=\"submit\"\n            name=\"submit\"\n            id=\"submit\"\n            className=\"button button-primary\"\n            value={ __( 'Save Changes', 'font-awesome' ) }\n            disabled={ !hasPendingChanges }\n            onClick={ handleSubmitClick }\n          />\n          { hasSubmitted \n            ? submitSuccess\n              ? <span className={ classnames(sharedStyles['submit-status'], sharedStyles['success']) }>\n                  <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faCheck } />\n                </span>\n              : <div className={ classnames(sharedStyles['submit-status'], sharedStyles['fail']) }>\n                  <div className={ classnames(sharedStyles['fail-icon-container']) }>\n                    <FontAwesomeIcon className={ sharedStyles['icon'] } icon={ faSkull } />\n                  </div>\n                  <div className={ sharedStyles['explanation'] }>\n                    {\n                      !!blocklistUpdateStatus.message && <p> { blocklistUpdateStatus.message } </p>\n                    }\n                    {\n                      !!unregisteredClientsDeletionStatus.message && <p> { unregisteredClientsDeletionStatus.message } </p>\n                    }\n                  </div>\n                </div>\n            : null\n          }\n          {\n            isSubmitting\n            ? <span className={ classnames(sharedStyles['submit-status'], sharedStyles['submitting']) }>\n                <FontAwesomeIcon className={ sharedStyles['icon'] } icon={faSpinner} spin/>\n              </span>\n            : hasPendingChanges\n              ? <span className={ sharedStyles['submit-status'] }>{ __( 'you have pending changes', 'font-awesome' ) }</span>\n              : null\n          }\n        </div>\n    }\n  </>\n}\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport classnames from 'classnames'\nimport styles from './FontAwesomeAdminView.module.css'\nimport SettingsTab from './SettingsTab'\nimport TroubleshootTab from './TroubleshootTab'\nimport { ADMIN_TAB_SETTINGS, ADMIN_TAB_TROUBLESHOOT } from './store/reducers'\nimport { setActiveAdminTab } from './store/actions'\nimport { __ } from '@wordpress/i18n'\n\nexport default function FontAwesomeAdminView() {\n  const activeAdminTab = useSelector(state => state.activeAdminTab || ADMIN_TAB_SETTINGS )\n  const dispatch = useDispatch()\n\n  return ( \n    <div className={ classnames(styles['font-awesome-admin-view']) }>\n      <h1>Font Awesome</h1>\n      <div className={styles['tab-header']}>\n        <button \n          onClick={() => dispatch(setActiveAdminTab(ADMIN_TAB_SETTINGS))}\n          disabled={ activeAdminTab === ADMIN_TAB_SETTINGS }\n        >\n          { __( 'Settings', 'font-awesome' ) }\n        </button>\n        <button\n          onClick={() => dispatch(setActiveAdminTab(ADMIN_TAB_TROUBLESHOOT))}\n          disabled={ activeAdminTab === ADMIN_TAB_TROUBLESHOOT }\n        >\n          { __( 'Troubleshoot', 'font-awesome' ) }\n        </button>\n      </div>\n      {\n        {\n          [ADMIN_TAB_SETTINGS]: <SettingsTab/>,\n          [ADMIN_TAB_TROUBLESHOOT]: <TroubleshootTab/>\n        }[activeAdminTab]\n      }\n    </div>\n  )\n}\n","import { createStore as reduxCreateStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport rootReducer from './reducers'\n\nconst middleware = [ thunkMiddleware ]\n\nconst composeEnhancers = (\n  process.env.NODE_ENV === 'development'\n  && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ) || compose\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(...middleware)\n)\n\nexport function createStore(initialData = {}) {\n  return reduxCreateStore(\n    rootReducer,\n    initialData,\n    enhancer\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ErrorBoundary from './ErrorBoundary'\nimport FontAwesomeAdminView from './FontAwesomeAdminView'\nimport { Provider } from 'react-redux'\nimport { createStore } from './store'\nimport { reportDetectedConflicts } from './store/actions'\nimport { mountConflictDetectionReporter } from './mountConflictDetectionReporter'\nimport { __ } from '@wordpress/i18n'\n\nconst initialData = window['__FontAwesomeOfficialPlugin__']\n\nif(! initialData){\n  console.error( __( 'Font Awesome plugin is broken: initial state data missing.', 'font-awesome' ) )\n}\n\nconst store = createStore(initialData)\n\nconst { showAdmin, showConflictDetectionReporter } = store.getState()\n\nif( showAdmin ) {\n  document.addEventListener('DOMContentLoaded', () => {\n    ReactDOM.render(\n      <ErrorBoundary>\n        <Provider store={ store }>\n          <FontAwesomeAdminView/>\n        </Provider>\n      </ErrorBoundary>,\n      document.getElementById('font-awesome-admin')\n    )\n  })\n}\n\nif( showConflictDetectionReporter ) {\n  mountConflictDetectionReporter({\n    report: params => store.dispatch(reportDetectedConflicts(params)),\n    store,\n    now: false\n  })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"Alert_alert__1Tu7M\",\"alert-icon\":\"Alert_alert-icon__23cN9\",\"alert-title\":\"Alert_alert-title__1wvA4\",\"alert-message\":\"Alert_alert-message__27lQZ\",\"alert-action\":\"Alert_alert-action__2AeYu\",\"alert-warning\":\"Alert_alert-warning__sMxOL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"v3-deprecation-warning\":\"V3DeprecationWarning_v3-deprecation-warning__2Xq1Q\",\"snooze-button\":\"V3DeprecationWarning_snooze-button__2bOsN\",\"label\":\"V3DeprecationWarning_label__2m8aN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"release-provider-error\":\"CdnConfigView_release-provider-error__30BlS\",\"warning-banner\":\"CdnConfigView_warning-banner__3Ya9i\",\"option-header\":\"CdnConfigView_option-header__9CZ2y\",\"option-status\":\"CdnConfigView_option-status__1q-yY\",\"option-choices\":\"CdnConfigView_option-choices__2tpgX\",\"option-choice\":\"CdnConfigView_option-choice__1uW2Q\",\"option-choice-container\":\"CdnConfigView_option-choice-container__9GEwX\",\"option-explanation\":\"CdnConfigView_option-explanation__GUgH3\",\"option-label\":\"CdnConfigView_option-label__3nemZ\",\"option-label-text\":\"CdnConfigView_option-label-text__1KcuS\",\"option-divider\":\"CdnConfigView_option-divider__1jXoB\",\"options-setter\":\"CdnConfigView_options-setter__3ovP8\",\"features\":\"CdnConfigView_features__1SVRj\",\"option-label-explanation\":\"CdnConfigView_option-label-explanation__26Es5\",\"checking-option-status-indicator\":\"CdnConfigView_checking-option-status-indicator__1ynao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pseudo-elements-screenshot\":\"FontAwesomeAdminView_pseudo-elements-screenshot__1M3FR\",\"tab-header\":\"FontAwesomeAdminView_tab-header__1HJFu\"};"],"sourceRoot":""}